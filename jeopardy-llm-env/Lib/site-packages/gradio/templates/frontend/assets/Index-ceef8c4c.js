import{B as $e}from"./SelectSource.svelte_svelte_type_style_lang-a1c177eb.js";import{S as xe}from"./Index-25fb47ed.js";import{U as et}from"./UploadText-9f4b7b97.js";import{B as tt}from"./BlockLabel-773ad87b.js";import{I as lt}from"./IconButton-246c08f4.js";import{E as nt}from"./Empty-72ec7a6b.js";import{S as it}from"./ShareButton-9408f3c5.js";import{a as st}from"./DownloadLink-f0c308cc.js";import{I as Ge}from"./Image-eaba773f.js";import"./index-b2d8d4c2.js";import"./ModifyUpload.svelte_svelte_type_style_lang-0f01576e.js";import{M as Oe}from"./ModifyUpload-f128479e.js";import{I as me}from"./Image-ea4957e8.js";import{u as ot}from"./utils-572af92b.js";import{B as rt}from"./FileUpload-f111e3e4.js";/* empty css                                              */import"./Upload-cd241e18.js";import"./file-url-c7dfd199.js";import"./svelte/svelte.js";import"./Clear-2c7bae91.js";import"./Undo-b088de14.js";import"./File-d0b52941.js";var de=Object.prototype.hasOwnProperty;function we(l,e,t){for(t of l.keys())if(ee(t,e))return t}function ee(l,e){var t,n,i;if(l===e)return!0;if(l&&e&&(t=l.constructor)===e.constructor){if(t===Date)return l.getTime()===e.getTime();if(t===RegExp)return l.toString()===e.toString();if(t===Array){if((n=l.length)===e.length)for(;n--&&ee(l[n],e[n]););return n===-1}if(t===Set){if(l.size!==e.size)return!1;for(n of l)if(i=n,i&&typeof i=="object"&&(i=we(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(l.size!==e.size)return!1;for(n of l)if(i=n[0],i&&typeof i=="object"&&(i=we(e,i),!i)||!ee(n[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)l=new Uint8Array(l),e=new Uint8Array(e);else if(t===DataView){if((n=l.byteLength)===e.byteLength)for(;n--&&l.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(l)){if((n=l.byteLength)===e.byteLength)for(;n--&&l[n]===e[n];);return n===-1}if(!t||typeof l=="object"){n=0;for(t in l)if(de.call(l,t)&&++n&&!de.call(e,t)||!(t in e)||!ee(l[t],e[t]))return!1;return Object.keys(e).length===n}}return l!==l&&e!==e}async function at(l){return l?`<div style="display: flex; flex-wrap: wrap; gap: 16px">${(await Promise.all(l.map(async([t,n])=>t===null||!t.url?"":await ot(t.url,"url")))).map(t=>`<img src="${t}" style="height: 400px" />`).join("")}</div>`:""}const{SvelteComponent:ut,add_iframe_resize_listener:ft,add_render_callback:qe,append:S,attr:I,binding_callbacks:be,bubble:ve,check_outros:W,create_component:H,destroy_component:M,destroy_each:Ne,detach:E,element:D,empty:_t,ensure_array_like:ue,flush:U,globals:ct,group_outros:J,init:ht,insert:R,listen:te,mount_component:F,run_all:gt,safe_not_equal:mt,set_data:He,set_style:N,space:C,text:Me,toggle_class:K,transition_in:k,transition_out:y}=window.__gradio__svelte__internal,{window:Fe}=ct,{createEventDispatcher:dt,getContext:wt}=window.__gradio__svelte__internal,{tick:bt}=window.__gradio__svelte__internal;function pe(l,e,t){const n=l.slice();return n[43]=e[t],n[45]=t,n}function ke(l,e,t){const n=l.slice();return n[46]=e[t],n[47]=e,n[45]=t,n}function ze(l){let e,t;return e=new tt({props:{show_label:l[2],Icon:Ge,label:l[3]||"Gallery"}}),{c(){H(e.$$.fragment)},m(n,i){F(e,n,i),t=!0},p(n,i){const r={};i[0]&4&&(r.show_label=n[2]),i[0]&8&&(r.label=n[3]||"Gallery"),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function vt(l){let e,t,n,i,r,h,w,o=l[18]&&l[7]&&je(l),f=l[12]&&Ie(l),u=l[9]&&Le(l),d=ue(l[13]),s=[];for(let a=0;a<d.length;a+=1)s[a]=Se(pe(l,d,a));const m=a=>y(s[a],1,1,()=>{s[a]=null});return{c(){o&&o.c(),e=C(),t=D("div"),n=D("div"),f&&f.c(),i=C(),u&&u.c(),r=C();for(let a=0;a<s.length;a+=1)s[a].c();I(n,"class","grid-container svelte-hpz95u"),N(n,"--grid-cols",l[4]),N(n,"--grid-rows",l[5]),N(n,"--object-fit",l[8]),N(n,"height",l[6]),K(n,"pt-6",l[2]),I(t,"class","grid-wrap svelte-hpz95u"),qe(()=>l[37].call(t)),K(t,"fixed-height",!l[6]||l[6]=="auto")},m(a,g){o&&o.m(a,g),R(a,e,g),R(a,t,g),S(t,n),f&&f.m(n,null),S(n,i),u&&u.m(n,null),S(n,r);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(n,null);h=ft(t,l[37].bind(t)),w=!0},p(a,g){if(a[18]&&a[7]?o?(o.p(a,g),g[0]&262272&&k(o,1)):(o=je(a),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(J(),y(o,1,1,()=>{o=null}),W()),a[12]?f?(f.p(a,g),g[0]&4096&&k(f,1)):(f=Ie(a),f.c(),k(f,1),f.m(n,i)):f&&(J(),y(f,1,1,()=>{f=null}),W()),a[9]?u?(u.p(a,g),g[0]&512&&k(u,1)):(u=Le(a),u.c(),k(u,1),u.m(n,r)):u&&(J(),y(u,1,1,()=>{u=null}),W()),g[0]&8194){d=ue(a[13]);let v;for(v=0;v<d.length;v+=1){const z=pe(a,d,v);s[v]?(s[v].p(z,g),k(s[v],1)):(s[v]=Se(z),s[v].c(),k(s[v],1),s[v].m(n,null))}for(J(),v=d.length;v<s.length;v+=1)m(v);W()}(!w||g[0]&16)&&N(n,"--grid-cols",a[4]),(!w||g[0]&32)&&N(n,"--grid-rows",a[5]),(!w||g[0]&256)&&N(n,"--object-fit",a[8]),(!w||g[0]&64)&&N(n,"height",a[6]),(!w||g[0]&4)&&K(n,"pt-6",a[2]),(!w||g[0]&64)&&K(t,"fixed-height",!a[6]||a[6]=="auto")},i(a){if(!w){k(o),k(f),k(u);for(let g=0;g<d.length;g+=1)k(s[g]);w=!0}},o(a){y(o),y(f),y(u),s=s.filter(Boolean);for(let g=0;g<s.length;g+=1)y(s[g]);w=!1},d(a){a&&(E(e),E(t)),o&&o.d(a),f&&f.d(),u&&u.d(),Ne(s,a),h()}}}function pt(l){let e,t;return e=new nt({props:{unpadded_box:!0,size:"large",$$slots:{default:[kt]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment)},m(n,i){F(e,n,i),t=!0},p(n,i){const r={};i[1]&131072&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function je(l){let e,t,n,i,r,h,w,o,f,u,d,s,m,a=l[10]&&ye(l);i=new Oe({props:{i18n:l[11],absolute:!1}}),i.$on("clear",l[28]),w=new me({props:{"data-testid":"detailed-image",src:l[18].image.url,alt:l[18].caption||"",title:l[18].caption||null,class:l[18].caption&&"with-caption",loading:"lazy"}});let g=l[18]?.caption&&Be(l),v=ue(l[13]),z=[];for(let b=0;b<v.length;b+=1)z[b]=Ae(ke(l,v,b));const p=b=>y(z[b],1,1,()=>{z[b]=null});return{c(){e=D("button"),t=D("div"),a&&a.c(),n=C(),H(i.$$.fragment),r=C(),h=D("button"),H(w.$$.fragment),o=C(),g&&g.c(),f=C(),u=D("div");for(let b=0;b<z.length;b+=1)z[b].c();I(t,"class","icon-buttons svelte-hpz95u"),I(h,"class","image-button svelte-hpz95u"),N(h,"height","calc(100% - "+(l[18].caption?"80px":"60px")+")"),I(h,"aria-label","detailed view of selected image"),I(u,"class","thumbnails scroll-hide svelte-hpz95u"),I(u,"data-testid","container_el"),I(e,"class","preview svelte-hpz95u")},m(b,j){R(b,e,j),S(e,t),a&&a.m(t,null),S(t,n),F(i,t,null),S(e,r),S(e,h),F(w,h,null),S(e,o),g&&g.m(e,null),S(e,f),S(e,u);for(let T=0;T<z.length;T+=1)z[T]&&z[T].m(u,null);l[32](u),d=!0,s||(m=[te(h,"click",l[29]),te(e,"keydown",l[20])],s=!0)},p(b,j){b[10]?a?(a.p(b,j),j[0]&1024&&k(a,1)):(a=ye(b),a.c(),k(a,1),a.m(t,n)):a&&(J(),y(a,1,1,()=>{a=null}),W());const T={};j[0]&2048&&(T.i18n=b[11]),i.$set(T);const L={};if(j[0]&262144&&(L.src=b[18].image.url),j[0]&262144&&(L.alt=b[18].caption||""),j[0]&262144&&(L.title=b[18].caption||null),j[0]&262144&&(L.class=b[18].caption&&"with-caption"),w.$set(L),(!d||j[0]&262144)&&N(h,"height","calc(100% - "+(b[18].caption?"80px":"60px")+")"),b[18]?.caption?g?g.p(b,j):(g=Be(b),g.c(),g.m(e,f)):g&&(g.d(1),g=null),j[0]&24578){v=ue(b[13]);let B;for(B=0;B<v.length;B+=1){const P=ke(b,v,B);z[B]?(z[B].p(P,j),k(z[B],1)):(z[B]=Ae(P),z[B].c(),k(z[B],1),z[B].m(u,null))}for(J(),B=v.length;B<z.length;B+=1)p(B);W()}},i(b){if(!d){k(a),k(i.$$.fragment,b),k(w.$$.fragment,b);for(let j=0;j<v.length;j+=1)k(z[j]);d=!0}},o(b){y(a),y(i.$$.fragment,b),y(w.$$.fragment,b),z=z.filter(Boolean);for(let j=0;j<z.length;j+=1)y(z[j]);d=!1},d(b){b&&E(e),a&&a.d(),M(i),M(w),g&&g.d(),Ne(z,b),l[32](null),s=!1,gt(m)}}}function ye(l){let e,t,n;return t=new lt({props:{Icon:st,label:l[11]("common.download")}}),t.$on("click",l[27]),{c(){e=D("div"),H(t.$$.fragment),I(e,"class","download-button-container svelte-hpz95u")},m(i,r){R(i,e,r),F(t,e,null),n=!0},p(i,r){const h={};r[0]&2048&&(h.label=i[11]("common.download")),t.$set(h)},i(i){n||(k(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&E(e),M(t)}}}function Be(l){let e,t=l[18].caption+"",n;return{c(){e=D("caption"),n=Me(t),I(e,"class","caption svelte-hpz95u")},m(i,r){R(i,e,r),S(e,n)},p(i,r){r[0]&262144&&t!==(t=i[18].caption+"")&&He(n,t)},d(i){i&&E(e)}}}function Ae(l){let e,t,n,i,r=l[45],h,w,o;t=new me({props:{src:l[46].image.url,title:l[46].caption||null,"data-testid":"thumbnail "+(l[45]+1),alt:"",loading:"lazy"}});const f=()=>l[30](e,r),u=()=>l[30](null,r);function d(){return l[31](l[45])}return{c(){e=D("button"),H(t.$$.fragment),n=C(),I(e,"class","thumbnail-item thumbnail-small svelte-hpz95u"),I(e,"aria-label",i="Thumbnail "+(l[45]+1)+" of "+l[13].length),K(e,"selected",l[1]===l[45])},m(s,m){R(s,e,m),F(t,e,null),S(e,n),f(),h=!0,w||(o=te(e,"click",d),w=!0)},p(s,m){l=s;const a={};m[0]&8192&&(a.src=l[46].image.url),m[0]&8192&&(a.title=l[46].caption||null),t.$set(a),(!h||m[0]&8192&&i!==(i="Thumbnail "+(l[45]+1)+" of "+l[13].length))&&I(e,"aria-label",i),r!==l[45]&&(u(),r=l[45],f()),(!h||m[0]&2)&&K(e,"selected",l[1]===l[45])},i(s){h||(k(t.$$.fragment,s),h=!0)},o(s){y(t.$$.fragment,s),h=!1},d(s){s&&E(e),M(t),u(),w=!1,o()}}}function Ie(l){let e,t,n;return t=new Oe({props:{i18n:l[11],absolute:!1}}),t.$on("clear",l[33]),{c(){e=D("div"),H(t.$$.fragment),I(e,"class","icon-button svelte-hpz95u")},m(i,r){R(i,e,r),F(t,e,null),n=!0},p(i,r){const h={};r[0]&2048&&(h.i18n=i[11]),t.$set(h)},i(i){n||(k(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&E(e),M(t)}}}function Le(l){let e,t,n;return t=new it({props:{i18n:l[11],value:l[13],formatter:at}}),t.$on("share",l[34]),t.$on("error",l[35]),{c(){e=D("div"),H(t.$$.fragment),I(e,"class","icon-button svelte-hpz95u")},m(i,r){R(i,e,r),F(t,e,null),n=!0},p(i,r){const h={};r[0]&2048&&(h.i18n=i[11]),r[0]&8192&&(h.value=i[13]),t.$set(h)},i(i){n||(k(t.$$.fragment,i),n=!0)},o(i){y(t.$$.fragment,i),n=!1},d(i){i&&E(e),M(t)}}}function Te(l){let e,t=l[43].caption+"",n;return{c(){e=D("div"),n=Me(t),I(e,"class","caption-label svelte-hpz95u")},m(i,r){R(i,e,r),S(e,n)},p(i,r){r[0]&8192&&t!==(t=i[43].caption+"")&&He(n,t)},d(i){i&&E(e)}}}function Se(l){let e,t,n,i,r,h,w,o;t=new me({props:{alt:l[43].caption||"",src:typeof l[43].image=="string"?l[43].image:l[43].image.url,loading:"lazy"}});let f=l[43].caption&&Te(l);function u(){return l[36](l[45])}return{c(){e=D("button"),H(t.$$.fragment),n=C(),f&&f.c(),i=C(),I(e,"class","thumbnail-item thumbnail-lg svelte-hpz95u"),I(e,"aria-label",r="Thumbnail "+(l[45]+1)+" of "+l[13].length),K(e,"selected",l[1]===l[45])},m(d,s){R(d,e,s),F(t,e,null),S(e,n),f&&f.m(e,null),S(e,i),h=!0,w||(o=te(e,"click",u),w=!0)},p(d,s){l=d;const m={};s[0]&8192&&(m.alt=l[43].caption||""),s[0]&8192&&(m.src=typeof l[43].image=="string"?l[43].image:l[43].image.url),t.$set(m),l[43].caption?f?f.p(l,s):(f=Te(l),f.c(),f.m(e,i)):f&&(f.d(1),f=null),(!h||s[0]&8192&&r!==(r="Thumbnail "+(l[45]+1)+" of "+l[13].length))&&I(e,"aria-label",r),(!h||s[0]&2)&&K(e,"selected",l[1]===l[45])},i(d){h||(k(t.$$.fragment,d),h=!0)},o(d){y(t.$$.fragment,d),h=!1},d(d){d&&E(e),M(t),f&&f.d(),w=!1,o()}}}function kt(l){let e,t;return e=new Ge({}),{c(){H(e.$$.fragment)},m(n,i){F(e,n,i),t=!0},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){y(e.$$.fragment,n),t=!1},d(n){M(e,n)}}}function zt(l){let e,t,n,i,r,h,w;qe(l[26]);let o=l[2]&&ze(l);const f=[pt,vt],u=[];function d(s,m){return s[0]==null||s[13]==null||s[13].length===0?0:1}return t=d(l),n=u[t]=f[t](l),{c(){o&&o.c(),e=C(),n.c(),i=_t()},m(s,m){o&&o.m(s,m),R(s,e,m),u[t].m(s,m),R(s,i,m),r=!0,h||(w=te(Fe,"resize",l[26]),h=!0)},p(s,m){s[2]?o?(o.p(s,m),m[0]&4&&k(o,1)):(o=ze(s),o.c(),k(o,1),o.m(e.parentNode,e)):o&&(J(),y(o,1,1,()=>{o=null}),W());let a=t;t=d(s),t===a?u[t].p(s,m):(J(),y(u[a],1,1,()=>{u[a]=null}),W(),n=u[t],n?n.p(s,m):(n=u[t]=f[t](s),n.c()),k(n,1),n.m(i.parentNode,i))},i(s){r||(k(o),k(n),r=!0)},o(s){y(o),y(n),r=!1},d(s){s&&(E(e),E(i)),o&&o.d(s),u[t].d(s),h=!1,w()}}}function jt(l,e,t){let n,i,r,{show_label:h=!0}=e,{label:w}=e,{value:o=null}=e,{columns:f=[2]}=e,{rows:u=void 0}=e,{height:d="auto"}=e,{preview:s}=e,{allow_preview:m=!0}=e,{object_fit:a="cover"}=e,{show_share_button:g=!1}=e,{show_download_button:v=!1}=e,{i18n:z}=e,{selected_index:p=null}=e,{interactive:b}=e;const j=dt();let T=!0,L=null,B=o;p==null&&s&&o?.length&&(p=0);let P=p;function G(_){const q=_.target,X=_.offsetX,Z=q.offsetWidth/2;X<Z?t(1,p=n):t(1,p=i)}function fe(_){switch(_.code){case"Escape":_.preventDefault(),t(1,p=null);break;case"ArrowLeft":_.preventDefault(),t(1,p=n);break;case"ArrowRight":_.preventDefault(),t(1,p=i);break}}let V=[],O;async function _e(_){if(typeof _!="number"||(await bt(),V[_]===void 0))return;V[_]?.focus();const{left:q,width:X}=O.getBoundingClientRect(),{left:re,width:Z}=V[_].getBoundingClientRect(),x=re-q+Z/2-X/2+O.scrollLeft;O&&typeof O.scrollTo=="function"&&O.scrollTo({left:x<0?0:x,behavior:"smooth"})}let $=0,se=0;const ce=wt("fetch_implementation");async function oe(_,q){let X;try{X=await ce(_)}catch(x){if(x instanceof TypeError){window.open(_,"_blank","noreferrer");return}throw x}const re=await X.blob(),Z=URL.createObjectURL(re),ae=document.createElement("a");ae.href=Z,ae.download=q,ae.click(),URL.revokeObjectURL(Z)}function c(){t(17,se=Fe.innerHeight)}const he=()=>{const _=r?.image;if(_==null)return;const{url:q,orig_name:X}=_;q&&oe(q,X??"image")},ge=()=>t(1,p=null),Pe=_=>G(_);function Ve(_,q){be[_?"unshift":"push"](()=>{V[q]=_,t(14,V)})}const Xe=_=>t(1,p=_);function We(_){be[_?"unshift":"push"](()=>{O=_,t(15,O)})}const Je=()=>t(0,o=null);function Ke(_){ve.call(this,l,_)}function Qe(_){ve.call(this,l,_)}const Ye=_=>t(1,p=_);function Ze(){$=this.clientHeight,t(16,$)}return l.$$set=_=>{"show_label"in _&&t(2,h=_.show_label),"label"in _&&t(3,w=_.label),"value"in _&&t(0,o=_.value),"columns"in _&&t(4,f=_.columns),"rows"in _&&t(5,u=_.rows),"height"in _&&t(6,d=_.height),"preview"in _&&t(22,s=_.preview),"allow_preview"in _&&t(7,m=_.allow_preview),"object_fit"in _&&t(8,a=_.object_fit),"show_share_button"in _&&t(9,g=_.show_share_button),"show_download_button"in _&&t(10,v=_.show_download_button),"i18n"in _&&t(11,z=_.i18n),"selected_index"in _&&t(1,p=_.selected_index),"interactive"in _&&t(12,b=_.interactive)},l.$$.update=()=>{l.$$.dirty[0]&8388609&&t(23,T=o==null||o.length===0?!0:T),l.$$.dirty[0]&1&&t(13,L=o==null?null:o.map(_=>({image:_.image,caption:_.caption}))),l.$$.dirty[0]&29360131&&(ee(B,o)||(T?(t(1,p=s&&o?.length?0:null),t(23,T=!1)):t(1,p=p!=null&&o!=null&&p<o.length?p:null),j("change"),t(24,B=o))),l.$$.dirty[0]&8194&&(n=((p??0)+(L?.length??0)-1)%(L?.length??0)),l.$$.dirty[0]&8194&&(i=((p??0)+1)%(L?.length??0)),l.$$.dirty[0]&33562626&&p!==P&&(t(25,P=p),p!==null&&j("select",{index:p,value:L?.[p]})),l.$$.dirty[0]&130&&m&&_e(p),l.$$.dirty[0]&8194&&t(18,r=p!=null&&L!=null?L[p]:null)},[o,p,h,w,f,u,d,m,a,g,v,z,b,L,V,O,$,se,r,G,fe,oe,s,T,B,P,c,he,ge,Pe,Ve,Xe,We,Je,Ke,Qe,Ye,Ze]}class yt extends ut{constructor(e){super(),ht(this,e,jt,zt,mt,{show_label:2,label:3,value:0,columns:4,rows:5,height:6,preview:22,allow_preview:7,object_fit:8,show_share_button:9,show_download_button:10,i18n:11,selected_index:1,interactive:12},null,[-1,-1])}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),U()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),U()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),U()}get columns(){return this.$$.ctx[4]}set columns(e){this.$$set({columns:e}),U()}get rows(){return this.$$.ctx[5]}set rows(e){this.$$set({rows:e}),U()}get height(){return this.$$.ctx[6]}set height(e){this.$$set({height:e}),U()}get preview(){return this.$$.ctx[22]}set preview(e){this.$$set({preview:e}),U()}get allow_preview(){return this.$$.ctx[7]}set allow_preview(e){this.$$set({allow_preview:e}),U()}get object_fit(){return this.$$.ctx[8]}set object_fit(e){this.$$set({object_fit:e}),U()}get show_share_button(){return this.$$.ctx[9]}set show_share_button(e){this.$$set({show_share_button:e}),U()}get show_download_button(){return this.$$.ctx[10]}set show_download_button(e){this.$$set({show_download_button:e}),U()}get i18n(){return this.$$.ctx[11]}set i18n(e){this.$$set({i18n:e}),U()}get selected_index(){return this.$$.ctx[1]}set selected_index(e){this.$$set({selected_index:e}),U()}get interactive(){return this.$$.ctx[12]}set interactive(e){this.$$set({interactive:e}),U()}}const Bt=yt,{SvelteComponent:At,add_flush_callback:Ue,assign:It,bind:De,binding_callbacks:Ee,check_outros:Lt,create_component:le,destroy_component:ne,detach:Re,empty:Tt,flush:A,get_spread_object:St,get_spread_update:Ut,group_outros:Dt,init:Et,insert:Ce,mount_component:ie,safe_not_equal:Rt,space:Ct,transition_in:Q,transition_out:Y}=window.__gradio__svelte__internal,{createEventDispatcher:Gt}=window.__gradio__svelte__internal;function Ot(l){let e,t,n,i;function r(o){l[24](o)}function h(o){l[25](o)}let w={label:l[4],show_label:l[3],columns:l[12],rows:l[13],height:l[14],preview:l[15],object_fit:l[17],interactive:l[19],allow_preview:l[16],show_share_button:l[18],show_download_button:l[20],i18n:l[21].i18n};return l[1]!==void 0&&(w.selected_index=l[1]),l[0]!==void 0&&(w.value=l[0]),e=new Bt({props:w}),Ee.push(()=>De(e,"selected_index",r)),Ee.push(()=>De(e,"value",h)),e.$on("change",l[26]),e.$on("select",l[27]),e.$on("share",l[28]),e.$on("error",l[29]),{c(){le(e.$$.fragment)},m(o,f){ie(e,o,f),i=!0},p(o,f){const u={};f[0]&16&&(u.label=o[4]),f[0]&8&&(u.show_label=o[3]),f[0]&4096&&(u.columns=o[12]),f[0]&8192&&(u.rows=o[13]),f[0]&16384&&(u.height=o[14]),f[0]&32768&&(u.preview=o[15]),f[0]&131072&&(u.object_fit=o[17]),f[0]&524288&&(u.interactive=o[19]),f[0]&65536&&(u.allow_preview=o[16]),f[0]&262144&&(u.show_share_button=o[18]),f[0]&1048576&&(u.show_download_button=o[20]),f[0]&2097152&&(u.i18n=o[21].i18n),!t&&f[0]&2&&(t=!0,u.selected_index=o[1],Ue(()=>t=!1)),!n&&f[0]&1&&(n=!0,u.value=o[0],Ue(()=>n=!1)),e.$set(u)},i(o){i||(Q(e.$$.fragment,o),i=!0)},o(o){Y(e.$$.fragment,o),i=!1},d(o){ne(e,o)}}}function qt(l){let e,t;return e=new rt({props:{value:null,root:l[5],label:l[4],file_count:"multiple",file_types:["image"],i18n:l[21].i18n,$$slots:{default:[Nt]},$$scope:{ctx:l}}}),e.$on("upload",l[23]),{c(){le(e.$$.fragment)},m(n,i){ie(e,n,i),t=!0},p(n,i){const r={};i[0]&32&&(r.root=n[5]),i[0]&16&&(r.label=n[4]),i[0]&2097152&&(r.i18n=n[21].i18n),i[0]&2097152|i[1]&1&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Nt(l){let e,t;return e=new et({props:{i18n:l[21].i18n,type:"gallery"}}),{c(){le(e.$$.fragment)},m(n,i){ie(e,n,i),t=!0},p(n,i){const r={};i[0]&2097152&&(r.i18n=n[21].i18n),e.$set(r)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Ht(l){let e,t,n,i,r,h;const w=[{autoscroll:l[21].autoscroll},{i18n:l[21].i18n},l[2]];let o={};for(let s=0;s<w.length;s+=1)o=It(o,w[s]);e=new xe({props:o});const f=[qt,Ot],u=[];function d(s,m){return s[19]&&s[22]?0:1}return n=d(l),i=u[n]=f[n](l),{c(){le(e.$$.fragment),t=Ct(),i.c(),r=Tt()},m(s,m){ie(e,s,m),Ce(s,t,m),u[n].m(s,m),Ce(s,r,m),h=!0},p(s,m){const a=m[0]&2097156?Ut(w,[m[0]&2097152&&{autoscroll:s[21].autoscroll},m[0]&2097152&&{i18n:s[21].i18n},m[0]&4&&St(s[2])]):{};e.$set(a);let g=n;n=d(s),n===g?u[n].p(s,m):(Dt(),Y(u[g],1,1,()=>{u[g]=null}),Lt(),i=u[n],i?i.p(s,m):(i=u[n]=f[n](s),i.c()),Q(i,1),i.m(r.parentNode,r))},i(s){h||(Q(e.$$.fragment,s),Q(i),h=!0)},o(s){Y(e.$$.fragment,s),Y(i),h=!1},d(s){s&&(Re(t),Re(r)),ne(e,s),u[n].d(s)}}}function Mt(l){let e,t;return e=new $e({props:{visible:l[8],variant:"solid",padding:!1,elem_id:l[6],elem_classes:l[7],container:l[9],scale:l[10],min_width:l[11],allow_overflow:!1,height:typeof l[14]=="number"?l[14]:void 0,$$slots:{default:[Ht]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},m(n,i){ie(e,n,i),t=!0},p(n,i){const r={};i[0]&256&&(r.visible=n[8]),i[0]&64&&(r.elem_id=n[6]),i[0]&128&&(r.elem_classes=n[7]),i[0]&512&&(r.container=n[9]),i[0]&1024&&(r.scale=n[10]),i[0]&2048&&(r.min_width=n[11]),i[0]&16384&&(r.height=typeof n[14]=="number"?n[14]:void 0),i[0]&8384575|i[1]&1&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){t||(Q(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function Ft(l,e,t){let n,{loading_status:i}=e,{show_label:r}=e,{label:h}=e,{root:w}=e,{elem_id:o=""}=e,{elem_classes:f=[]}=e,{visible:u=!0}=e,{value:d=null}=e,{container:s=!0}=e,{scale:m=null}=e,{min_width:a=void 0}=e,{columns:g=[2]}=e,{rows:v=void 0}=e,{height:z="auto"}=e,{preview:p}=e,{allow_preview:b=!0}=e,{selected_index:j=null}=e,{object_fit:T="cover"}=e,{show_share_button:L=!1}=e,{interactive:B}=e,{show_download_button:P=!1}=e,{gradio:G}=e;const fe=Gt(),V=c=>{const he=Array.isArray(c.detail)?c.detail:[c.detail];t(0,d=he.map(ge=>({image:ge,caption:null}))),G.dispatch("upload",d)};function O(c){j=c,t(1,j)}function _e(c){d=c,t(0,d)}const $=()=>G.dispatch("change",d),se=c=>G.dispatch("select",c.detail),ce=c=>G.dispatch("share",c.detail),oe=c=>G.dispatch("error",c.detail);return l.$$set=c=>{"loading_status"in c&&t(2,i=c.loading_status),"show_label"in c&&t(3,r=c.show_label),"label"in c&&t(4,h=c.label),"root"in c&&t(5,w=c.root),"elem_id"in c&&t(6,o=c.elem_id),"elem_classes"in c&&t(7,f=c.elem_classes),"visible"in c&&t(8,u=c.visible),"value"in c&&t(0,d=c.value),"container"in c&&t(9,s=c.container),"scale"in c&&t(10,m=c.scale),"min_width"in c&&t(11,a=c.min_width),"columns"in c&&t(12,g=c.columns),"rows"in c&&t(13,v=c.rows),"height"in c&&t(14,z=c.height),"preview"in c&&t(15,p=c.preview),"allow_preview"in c&&t(16,b=c.allow_preview),"selected_index"in c&&t(1,j=c.selected_index),"object_fit"in c&&t(17,T=c.object_fit),"show_share_button"in c&&t(18,L=c.show_share_button),"interactive"in c&&t(19,B=c.interactive),"show_download_button"in c&&t(20,P=c.show_download_button),"gradio"in c&&t(21,G=c.gradio)},l.$$.update=()=>{l.$$.dirty[0]&1&&t(22,n=Array.isArray(d)?d.length===0:!d),l.$$.dirty[0]&2&&fe("prop_change",{selected_index:j})},[d,j,i,r,h,w,o,f,u,s,m,a,g,v,z,p,b,T,L,B,P,G,n,V,O,_e,$,se,ce,oe]}class _l extends At{constructor(e){super(),Et(this,e,Ft,Mt,Rt,{loading_status:2,show_label:3,label:4,root:5,elem_id:6,elem_classes:7,visible:8,value:0,container:9,scale:10,min_width:11,columns:12,rows:13,height:14,preview:15,allow_preview:16,selected_index:1,object_fit:17,show_share_button:18,interactive:19,show_download_button:20,gradio:21},null,[-1,-1])}get loading_status(){return this.$$.ctx[2]}set loading_status(e){this.$$set({loading_status:e}),A()}get show_label(){return this.$$.ctx[3]}set show_label(e){this.$$set({show_label:e}),A()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),A()}get root(){return this.$$.ctx[5]}set root(e){this.$$set({root:e}),A()}get elem_id(){return this.$$.ctx[6]}set elem_id(e){this.$$set({elem_id:e}),A()}get elem_classes(){return this.$$.ctx[7]}set elem_classes(e){this.$$set({elem_classes:e}),A()}get visible(){return this.$$.ctx[8]}set visible(e){this.$$set({visible:e}),A()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),A()}get container(){return this.$$.ctx[9]}set container(e){this.$$set({container:e}),A()}get scale(){return this.$$.ctx[10]}set scale(e){this.$$set({scale:e}),A()}get min_width(){return this.$$.ctx[11]}set min_width(e){this.$$set({min_width:e}),A()}get columns(){return this.$$.ctx[12]}set columns(e){this.$$set({columns:e}),A()}get rows(){return this.$$.ctx[13]}set rows(e){this.$$set({rows:e}),A()}get height(){return this.$$.ctx[14]}set height(e){this.$$set({height:e}),A()}get preview(){return this.$$.ctx[15]}set preview(e){this.$$set({preview:e}),A()}get allow_preview(){return this.$$.ctx[16]}set allow_preview(e){this.$$set({allow_preview:e}),A()}get selected_index(){return this.$$.ctx[1]}set selected_index(e){this.$$set({selected_index:e}),A()}get object_fit(){return this.$$.ctx[17]}set object_fit(e){this.$$set({object_fit:e}),A()}get show_share_button(){return this.$$.ctx[18]}set show_share_button(e){this.$$set({show_share_button:e}),A()}get interactive(){return this.$$.ctx[19]}set interactive(e){this.$$set({interactive:e}),A()}get show_download_button(){return this.$$.ctx[20]}set show_download_button(e){this.$$set({show_download_button:e}),A()}get gradio(){return this.$$.ctx[21]}set gradio(e){this.$$set({gradio:e}),A()}}export{Bt as BaseGallery,_l as default};
//# sourceMappingURL=Index-ceef8c4c.js.map
