import{a as xt,B as Bl}from"./SelectSource.svelte_svelte_type_style_lang-a1c177eb.js";import{S as El}from"./Index-25fb47ed.js";import{d as ce}from"./index-2f00b72c.js";import{c as Tl}from"./utils-572af92b.js";import{U as Hl}from"./ModifyUpload.svelte_svelte_type_style_lang-0f01576e.js";import"./index-b2d8d4c2.js";import"./Index.svelte_svelte_type_style_lang-5797a0f4.js";import{M as Nl}from"./Example.svelte_svelte_type_style_lang-309e884e.js";import{d as Ol}from"./dsv-576afacd.js";import{default as vs}from"./Example-4e86bea7.js";import"./svelte/svelte.js";import"./prism-python-b1a8b687.js";const{HtmlTag:Fl,SvelteComponent:jl,action_destroyer:Pl,attr:me,binding_callbacks:Ul,bubble:ot,check_outros:Jl,create_component:Vl,destroy_component:Wl,detach:Fe,element:$t,empty:Il,flush:ae,group_outros:Kl,init:Yl,insert:je,listen:Oe,mount_component:Zl,noop:Ge,prevent_default:Gl,run_all:el,safe_not_equal:Ql,set_data:Xl,set_input_value:zt,space:xl,text:$l,toggle_class:Qe,transition_in:ut,transition_out:_t}=window.__gradio__svelte__internal,{createEventDispatcher:en}=window.__gradio__svelte__internal;function Mt(n){let e,t,l;return{c(){e=$t("input"),me(e,"role","textbox"),me(e,"tabindex","-1"),me(e,"class","svelte-z9gpua"),Qe(e,"header",n[5])},m(s,o){je(s,e,o),n[18](e),zt(e,n[10]),t||(l=[Oe(e,"input",n[19]),Oe(e,"blur",n[12]),Pl(n[11].call(null,e)),Oe(e,"keydown",n[17])],t=!0)},p(s,o){o&1024&&e.value!==s[10]&&zt(e,s[10]),o&32&&Qe(e,"header",s[5])},d(s){s&&Fe(e),n[18](null),t=!1,el(l)}}}function tn(n){let e=(n[9]?n[0]:n[3]||n[0])+"",t;return{c(){t=$l(e)},m(l,s){je(l,t,s)},p(l,s){s&521&&e!==(e=(l[9]?l[0]:l[3]||l[0])+"")&&Xl(t,e)},i:Ge,o:Ge,d(l){l&&Fe(t)}}}function ln(n){let e,t;return e=new Nl({props:{message:n[0].toLocaleString(),latex_delimiters:n[7],line_breaks:n[8],chatbot:!1}}),{c(){Vl(e.$$.fragment)},m(l,s){Zl(e,l,s),t=!0},p(l,s){const o={};s&1&&(o.message=l[0].toLocaleString()),s&128&&(o.latex_delimiters=l[7]),s&256&&(o.line_breaks=l[8]),e.$set(o)},i(l){t||(ut(e.$$.fragment,l),t=!0)},o(l){_t(e.$$.fragment,l),t=!1},d(l){Wl(e,l)}}}function nn(n){let e,t;return{c(){e=new Fl(!1),t=Il(),e.a=t},m(l,s){e.m(n[0],l,s),je(l,t,s)},p(l,s){s&1&&e.p(l[0])},i:Ge,o:Ge,d(l){l&&(Fe(t),e.d())}}}function sn(n){let e,t,l,s,o,_,i,r=n[2]&&Mt(n);const g=[nn,ln,tn],u=[];function b(m,k){return m[6]==="html"?0:m[6]==="markdown"?1:2}return l=b(n),s=u[l]=g[l](n),{c(){r&&r.c(),e=xl(),t=$t("span"),s.c(),me(t,"tabindex","-1"),me(t,"role","button"),me(t,"style",n[4]),me(t,"class","svelte-z9gpua"),Qe(t,"edit",n[2])},m(m,k){r&&r.m(m,k),je(m,e,k),je(m,t,k),u[l].m(t,null),o=!0,_||(i=[Oe(t,"dblclick",n[15]),Oe(t,"focus",Gl(n[16]))],_=!0)},p(m,[k]){m[2]?r?r.p(m,k):(r=Mt(m),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null);let A=l;l=b(m),l===A?u[l].p(m,k):(Kl(),_t(u[A],1,1,()=>{u[A]=null}),Jl(),s=u[l],s?s.p(m,k):(s=u[l]=g[l](m),s.c()),ut(s,1),s.m(t,null)),(!o||k&16)&&me(t,"style",m[4]),(!o||k&4)&&Qe(t,"edit",m[2])},i(m){o||(ut(s),o=!0)},o(m){_t(s),o=!1},d(m){m&&(Fe(e),Fe(t)),r&&r.d(m),u[l].d(),_=!1,el(i)}}}function rn(n,e,t){let l,{edit:s}=e,{value:o=""}=e,{display_value:_=null}=e,{styling:i=""}=e,{header:r=!1}=e,{datatype:g="str"}=e,{latex_delimiters:u}=e,{clear_on_focus:b=!1}=e,{select_on_focus:m=!1}=e,{line_breaks:k=!0}=e,{editable:A=!0}=e;const L=en();let{el:S}=e;function H(p){return b&&t(10,l=""),m&&p.select(),p.focus(),{}}function R({currentTarget:p}){t(0,o=p.value),L("blur")}function y(p){ot.call(this,n,p)}function h(p){ot.call(this,n,p)}function B(p){ot.call(this,n,p)}function q(p){Ul[p?"unshift":"push"](()=>{S=p,t(1,S)})}function M(){l=this.value,t(10,l),t(0,o)}return n.$$set=p=>{"edit"in p&&t(2,s=p.edit),"value"in p&&t(0,o=p.value),"display_value"in p&&t(3,_=p.display_value),"styling"in p&&t(4,i=p.styling),"header"in p&&t(5,r=p.header),"datatype"in p&&t(6,g=p.datatype),"latex_delimiters"in p&&t(7,u=p.latex_delimiters),"clear_on_focus"in p&&t(13,b=p.clear_on_focus),"select_on_focus"in p&&t(14,m=p.select_on_focus),"line_breaks"in p&&t(8,k=p.line_breaks),"editable"in p&&t(9,A=p.editable),"el"in p&&t(1,S=p.el)},n.$$.update=()=>{n.$$.dirty&1&&t(10,l=o)},[o,S,s,_,i,r,g,u,k,A,l,H,R,b,m,y,h,B,q,M]}class $e extends jl{constructor(e){super(),Yl(this,e,rn,sn,Ql,{edit:2,value:0,display_value:3,styling:4,header:5,datatype:6,latex_delimiters:7,clear_on_focus:13,select_on_focus:14,line_breaks:8,editable:9,el:1})}get edit(){return this.$$.ctx[2]}set edit(e){this.$$set({edit:e}),ae()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),ae()}get display_value(){return this.$$.ctx[3]}set display_value(e){this.$$set({display_value:e}),ae()}get styling(){return this.$$.ctx[4]}set styling(e){this.$$set({styling:e}),ae()}get header(){return this.$$.ctx[5]}set header(e){this.$$set({header:e}),ae()}get datatype(){return this.$$.ctx[6]}set datatype(e){this.$$set({datatype:e}),ae()}get latex_delimiters(){return this.$$.ctx[7]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),ae()}get clear_on_focus(){return this.$$.ctx[13]}set clear_on_focus(e){this.$$set({clear_on_focus:e}),ae()}get select_on_focus(){return this.$$.ctx[14]}set select_on_focus(e){this.$$set({select_on_focus:e}),ae()}get line_breaks(){return this.$$.ctx[8]}set line_breaks(e){this.$$set({line_breaks:e}),ae()}get editable(){return this.$$.ctx[9]}set editable(e){this.$$set({editable:e}),ae()}get el(){return this.$$.ctx[1]}set el(e){this.$$set({el:e}),ae()}}const{ResizeObserverSingleton:an,SvelteComponent:on,add_iframe_resize_listener:Ct,add_render_callback:qt,append:Be,attr:Ke,binding_callbacks:Dt,check_outros:tl,create_slot:ft,detach:et,element:He,empty:ll,ensure_array_like:Lt,flush:Ce,get_all_dirty_from_scope:ht,get_slot_changes:ct,group_outros:nl,init:un,insert:tt,listen:_n,outro_and_destroy_block:fn,resize_observer_content_box:hn,safe_not_equal:cn,set_style:_e,space:Rt,text:gn,transition_in:qe,transition_out:Ee,update_keyed_each:dn,update_slot_base:gt}=window.__gradio__svelte__internal,{onMount:bn,tick:Ye}=window.__gradio__svelte__internal,mn=n=>({}),Bt=n=>({});function Et(n,e,t){const l=n.slice();return l[34]=e[t],l}const wn=n=>({item:n[0]&256,index:n[0]&256}),Tt=n=>({item:n[34].data,index:n[34].index}),kn=n=>({}),Ht=n=>({});function Nt(n){let e=[],t=new Map,l,s,o=Lt(n[8]);const _=i=>i[34].data[0].id;for(let i=0;i<o.length;i+=1){let r=Et(n,o,i),g=_(r);t.set(g,e[i]=Ot(g,r))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=ll()},m(i,r){for(let g=0;g<e.length;g+=1)e[g]&&e[g].m(i,r);tt(i,l,r),s=!0},p(i,r){r[0]&1048832&&(o=Lt(i[8]),nl(),e=dn(e,r,_,1,i,o,t,l.parentNode,fn,Ot,l,Et),tl())},i(i){if(!s){for(let r=0;r<o.length;r+=1)qe(e[r]);s=!0}},o(i){for(let r=0;r<e.length;r+=1)Ee(e[r]);s=!1},d(i){i&&et(l);for(let r=0;r<e.length;r+=1)e[r].d(i)}}}function pn(n){let e;return{c(){e=gn(`Missing Table Row
					`)},m(t,l){tt(t,e,l)},d(t){t&&et(e)}}}function Ot(n,e){let t,l;const s=e[21].tbody,o=ft(s,e,e[20],Tt),_=o||pn();return{key:n,first:null,c(){t=ll(),_&&_.c(),this.first=t},m(i,r){tt(i,t,r),_&&_.m(i,r),l=!0},p(i,r){e=i,o&&o.p&&(!l||r[0]&1048832)&&gt(o,s,e,e[20],l?ct(s,e[20],r,wn):ht(e[20]),Tt)},i(i){l||(qe(_,i),l=!0)},o(i){Ee(_,i),l=!1},d(i){i&&et(t),_&&_.d(i)}}}function vn(n){let e,t,l,s,o,_,i,r,g,u,b,m,k;const A=n[21].thead,L=ft(A,n,n[20],Ht);let S=n[8].length&&n[8][0].data.length&&Nt(n);const H=n[21].tfoot,R=ft(H,n,n[20],Bt);return{c(){e=He("svelte-virtual-table-viewport"),t=He("table"),l=He("thead"),L&&L.c(),o=Rt(),_=He("tbody"),S&&S.c(),i=Rt(),r=He("tfoot"),R&&R.c(),Ke(l,"class","thead svelte-1txh5yn"),qt(()=>n[22].call(l)),Ke(_,"class","tbody svelte-1txh5yn"),Ke(r,"class","tfoot svelte-1txh5yn"),qt(()=>n[24].call(r)),Ke(t,"class","table svelte-1txh5yn"),_e(t,"height",yn),_e(t,"--bw-svt-p-top",n[6]+"px"),_e(t,"--bw-svt-p-bottom",n[2]+"px"),_e(t,"--bw-svt-head-height",n[4]+"px"),_e(t,"--bw-svt-foot-height",n[5]+"px"),_e(t,"--bw-svt-avg-row-height",n[1]+"px")},m(y,h){tt(y,e,h),Be(e,t),Be(t,l),L&&L.m(l,null),s=Ct(l,n[22].bind(l)),Be(t,o),Be(t,_),S&&S.m(_,null),n[23](_),Be(t,i),Be(t,r),R&&R.m(r,null),g=Ct(r,n[24].bind(r)),n[25](t),u=hn.observe(t,n[26].bind(t)),b=!0,m||(k=_n(t,"scroll",n[9]),m=!0)},p(y,h){L&&L.p&&(!b||h[0]&1048576)&&gt(L,A,y,y[20],b?ct(A,y[20],h,kn):ht(y[20]),Ht),y[8].length&&y[8][0].data.length?S?(S.p(y,h),h[0]&256&&qe(S,1)):(S=Nt(y),S.c(),qe(S,1),S.m(_,null)):S&&(nl(),Ee(S,1,1,()=>{S=null}),tl()),R&&R.p&&(!b||h[0]&1048576)&&gt(R,H,y,y[20],b?ct(H,y[20],h,mn):ht(y[20]),Bt),(!b||h[0]&64)&&_e(t,"--bw-svt-p-top",y[6]+"px"),(!b||h[0]&4)&&_e(t,"--bw-svt-p-bottom",y[2]+"px"),(!b||h[0]&16)&&_e(t,"--bw-svt-head-height",y[4]+"px"),(!b||h[0]&32)&&_e(t,"--bw-svt-foot-height",y[5]+"px"),(!b||h[0]&2)&&_e(t,"--bw-svt-avg-row-height",y[1]+"px")},i(y){b||(qe(L,y),qe(S),qe(R,y),b=!0)},o(y){Ee(L,y),Ee(S),Ee(R,y),b=!1},d(y){y&&et(e),L&&L.d(y),s(),S&&S.d(),n[23](null),R&&R.d(y),g(),n[25](null),u(),m=!1,k()}}}let yn="100%";function An(n,e){if(!n)return 0;const t=getComputedStyle(n);return parseInt(t.getPropertyValue(e))}function Sn(n,e,t){let l,{$$slots:s={},$$scope:o}=e,{items:_=[]}=e,{max_height:i}=e,{actual_height:r}=e,{table_scrollbar_width:g}=e,{start:u=0}=e,{end:b=0}=e,{selected:m}=e,k,A=0,L,S=0,H=0,R=[],y,h,B=0,q,M=0,p=[],T,$=0;async function N(C){if(M===0)return;const{scrollTop:I}=q;t(13,g=q.offsetWidth-q.clientWidth),$=B-(I-S);let x=u;for(;$<i&&x<C.length;){let F=h[x-u];F||(t(11,b=x+1),await Ye(),F=h[x-u]);let G=F?.getBoundingClientRect().height;G||(G=k);const Re=R[x]=G;$+=Re,x+=1}t(11,b=x);const se=C.length-b,te=q.offsetHeight-q.clientHeight;te>0&&($+=te);let ie=R.filter(F=>typeof F=="number");t(1,k=ie.reduce((F,G)=>F+G,0)/ie.length),t(2,A=se*k),R.length=C.length,await Ye(),i?$<i?t(12,r=$+2):t(12,r=i):t(12,r=$+1),await Ye()}async function oe(C){requestAnimationFrame(async()=>{if(typeof C!="number")return;const I=typeof C!="number"?!1:be(C);I!==!0&&(I==="back"&&await O(C,{behavior:"instant"}),I==="forwards"&&await O(C,{behavior:"instant"},!0))})}function be(C){const I=h&&h[C-u];if(!I&&C<u)return"back";if(!I&&C>=b-1)return"forwards";const{top:x}=q.getBoundingClientRect(),{top:se,bottom:te}=I.getBoundingClientRect();return se-x<37?"back":te-x>M?"forwards":!0}async function Z(C){const I=q.scrollTop;h=L.children;const x=l.length<u,se=An(h[1],"border-top-width"),te=0;x&&await O(l.length-1,{behavior:"auto"});let ie=0;for(let j=0;j<h.length;j+=1)R[u+j]=h[j].getBoundingClientRect().height;let F=0,G=S+se/2,Re=[];for(;F<l.length;){const j=R[F]||k;if(Re[F]=j,G+j+te>I){ie=F,t(6,B=G-(S+se/2));break}G+=j,F+=1}for(ie=Math.max(0,ie);F<l.length;){const j=R[F]||k;if(G+=j,F+=1,G>I+M)break}t(10,u=ie),t(11,b=F);const he=l.length-b;b===0&&t(11,b=10),t(1,k=(G-S)/b);let Je=he*k;for(;F<l.length;)F+=1,R[F]=k;t(2,A=Je),isFinite(A)||t(2,A=2e5)}async function O(C,I,x=!1){await Ye();const se=k;let te=C*se;x&&(te=te-M+se+S);const ie=q.offsetHeight-q.clientHeight;ie>0&&(te+=ie);const F={top:te,behavior:"smooth",...I};q.scrollTo(F)}bn(()=>{h=L.children,t(18,y=!0),N(_)});function v(){S=this.offsetHeight,t(4,S)}function c(C){Dt[C?"unshift":"push"](()=>{L=C,t(3,L)})}function d(){H=this.offsetHeight,t(5,H)}function ee(C){Dt[C?"unshift":"push"](()=>{q=C,t(7,q)})}function lt(){T=an.entries.get(this)?.contentRect,t(0,T)}return n.$$set=C=>{"items"in C&&t(14,_=C.items),"max_height"in C&&t(15,i=C.max_height),"actual_height"in C&&t(12,r=C.actual_height),"table_scrollbar_width"in C&&t(13,g=C.table_scrollbar_width),"start"in C&&t(10,u=C.start),"end"in C&&t(11,b=C.end),"selected"in C&&t(16,m=C.selected),"$$scope"in C&&t(20,o=C.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&1&&(M=T?.height||0),n.$$.dirty[0]&16384&&t(19,l=_),n.$$.dirty[0]&786432&&y&&requestAnimationFrame(()=>N(l)),n.$$.dirty[0]&65536&&oe(m),n.$$.dirty[0]&527360&&t(8,p=l.slice(u,b).map((C,I)=>({index:I+u,data:C})))},[T,k,A,L,S,H,B,q,p,Z,u,b,r,g,_,i,m,O,y,l,o,s,v,c,d,ee,lt]}class zn extends on{constructor(e){super(),un(this,e,Sn,vn,cn,{items:14,max_height:15,actual_height:12,table_scrollbar_width:13,start:10,end:11,selected:16,scroll_to_index:17},null,[-1,-1])}get items(){return this.$$.ctx[14]}set items(e){this.$$set({items:e}),Ce()}get max_height(){return this.$$.ctx[15]}set max_height(e){this.$$set({max_height:e}),Ce()}get actual_height(){return this.$$.ctx[12]}set actual_height(e){this.$$set({actual_height:e}),Ce()}get table_scrollbar_width(){return this.$$.ctx[13]}set table_scrollbar_width(e){this.$$set({table_scrollbar_width:e}),Ce()}get start(){return this.$$.ctx[10]}set start(e){this.$$set({start:e}),Ce()}get end(){return this.$$.ctx[11]}set end(e){this.$$set({end:e}),Ce()}get selected(){return this.$$.ctx[16]}set selected(e){this.$$set({selected:e}),Ce()}get scroll_to_index(){return this.$$.ctx[17]}}const{ResizeObserverSingleton:Mn,SvelteComponent:Cn,action_destroyer:qn,add_flush_callback:pe,append:E,attr:w,bind:ve,binding_callbacks:fe,check_outros:De,create_component:Se,destroy_component:ze,detach:K,element:U,empty:Dn,ensure_array_like:we,flush:X,group_outros:Le,init:Ln,insert:Y,listen:ke,mount_component:Me,outro_and_destroy_block:Xe,resize_observer_content_box:Rn,run_all:sl,safe_not_equal:Bn,set_data:Pe,set_style:ye,space:ne,svg_element:Ae,text:Ue,toggle_class:J,transition_in:W,transition_out:Q,update_keyed_each:xe}=window.__gradio__svelte__internal,{createEventDispatcher:En,tick:Ze,onMount:Tn}=window.__gradio__svelte__internal;function Ft(n,e,t){const l=n.slice();return l[88]=e[t].value,l[89]=e[t].id,l[92]=e,l[93]=t,l}function jt(n,e,t){const l=n.slice();return l[88]=e[t].value,l[89]=e[t].id,l[90]=e,l[91]=t,l}function Pt(n,e,t){const l=n.slice();return l[88]=e[t].value,l[89]=e[t].id,l[94]=e,l[91]=t,l}function Ut(n,e,t){const l=n.slice();return l[88]=e[t].value,l[89]=e[t].id,l[93]=t,l}function Jt(n){let e,t;return{c(){e=U("p"),t=Ue(n[1]),w(e,"class","svelte-1bvc1p0")},m(l,s){Y(l,e,s),E(e,t)},p(l,s){s[0]&2&&Pe(t,l[1])},d(l){l&&K(e)}}}function Vt(n){let e,t;return{c(){e=U("caption"),t=Ue(n[1]),w(e,"class","sr-only")},m(l,s){Y(l,e,s),E(e,t)},p(l,s){s[0]&2&&Pe(t,l[1])},d(l){l&&K(e)}}}function Wt(n,e){let t,l,s,o,_,i,r,g,u,b,m;return s=new $e({props:{value:e[88],latex_delimiters:e[5],line_breaks:e[11],header:!0,edit:!1,el:null}}),{key:n,first:null,c(){t=U("th"),l=U("div"),Se(s.$$.fragment),o=ne(),_=U("div"),i=Ae("svg"),r=Ae("path"),u=ne(),w(r,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),w(i,"width","1em"),w(i,"height","1em"),w(i,"viewBox","0 0 9 7"),w(i,"fill","none"),w(i,"xmlns","http://www.w3.org/2000/svg"),w(i,"class","svelte-1bvc1p0"),w(_,"class",g="sort-button "+e[17]+" svelte-1bvc1p0"),J(_,"sorted",e[18]===e[93]),J(_,"des",e[18]===e[93]&&e[17]==="des"),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"aria-sort",b=e[35](e[88],e[18],e[17])),w(t,"class","svelte-1bvc1p0"),J(t,"editing",e[25]===e[93]),ye(t,"width",e[12].length?e[12][e[93]]:void 0),this.first=t},m(k,A){Y(k,t,A),E(t,l),Me(s,l,null),E(l,o),E(l,_),E(_,i),E(i,r),E(t,u),m=!0},p(k,A){e=k;const L={};A[0]&8388608&&(L.value=e[88]),A[0]&32&&(L.latex_delimiters=e[5]),A[0]&2048&&(L.line_breaks=e[11]),s.$set(L),(!m||A[0]&131072&&g!==(g="sort-button "+e[17]+" svelte-1bvc1p0"))&&w(_,"class",g),(!m||A[0]&8781824)&&J(_,"sorted",e[18]===e[93]),(!m||A[0]&8781824)&&J(_,"des",e[18]===e[93]&&e[17]==="des"),(!m||A[0]&8781824&&b!==(b=e[35](e[88],e[18],e[17])))&&w(t,"aria-sort",b),(!m||A[0]&41943040)&&J(t,"editing",e[25]===e[93]),A[0]&8392704&&ye(t,"width",e[12].length?e[12][e[93]]:void 0)},i(k){m||(W(s.$$.fragment,k),m=!0)},o(k){Q(s.$$.fragment,k),m=!1},d(k){k&&K(t),ze(s)}}}function It(n,e){let t,l,s,o,_=e[91],i;s=new $e({props:{value:e[88],latex_delimiters:e[5],line_breaks:e[11],datatype:Array.isArray(e[0])?e[0][e[91]]:e[0],edit:!1,el:null}});const r=()=>e[52](t,_),g=()=>e[52](null,_);return{key:n,first:null,c(){t=U("td"),l=U("div"),Se(s.$$.fragment),o=ne(),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"tabindex","-1"),w(t,"class","svelte-1bvc1p0"),this.first=t},m(u,b){Y(u,t,b),E(t,l),Me(s,l,null),E(t,o),r(),i=!0},p(u,b){e=u;const m={};b[1]&8&&(m.value=e[88]),b[0]&32&&(m.latex_delimiters=e[5]),b[0]&2048&&(m.line_breaks=e[11]),b[0]&1|b[1]&8&&(m.datatype=Array.isArray(e[0])?e[0][e[91]]:e[0]),s.$set(m),_!==e[91]&&(g(),_=e[91],r())},i(u){i||(W(s.$$.fragment,u),i=!0)},o(u){Q(s.$$.fragment,u),i=!1},d(u){u&&K(t),ze(s),g()}}}function Kt(n){let e,t;return{c(){e=U("caption"),t=Ue(n[1]),w(e,"class","sr-only")},m(l,s){Y(l,e,s),E(e,t)},p(l,s){s[0]&2&&Pe(t,l[1])},d(l){l&&K(e)}}}function Hn(n){let e,t=n[1]&&n[1].length!==0&&Kt(n);return{c(){t&&t.c(),e=Dn()},m(l,s){t&&t.m(l,s),Y(l,e,s)},p(l,s){l[1]&&l[1].length!==0?t?t.p(l,s):(t=Kt(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&K(e),t&&t.d(l)}}}function Yt(n,e){let t,l,s,o,_,i,r,g,u,b,m,k,A,L,S;function H(q){e[61](q,e[93])}function R(q){e[62](q,e[89])}function y(){return e[63](e[93])}let h={latex_delimiters:e[5],line_breaks:e[11],edit:e[25]===e[93],select_on_focus:e[26],header:!0};e[23][e[93]].value!==void 0&&(h.value=e[23][e[93]].value),e[22][e[89]].input!==void 0&&(h.el=e[22][e[89]].input),s=new $e({props:h}),fe.push(()=>ve(s,"value",H)),fe.push(()=>ve(s,"el",R)),s.$on("keydown",e[41]),s.$on("dblclick",y);function B(){return e[64](e[93])}return{key:n,first:null,c(){t=U("th"),l=U("div"),Se(s.$$.fragment),i=ne(),r=U("div"),g=Ae("svg"),u=Ae("path"),m=ne(),w(u,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),w(g,"width","1em"),w(g,"height","1em"),w(g,"viewBox","0 0 9 7"),w(g,"fill","none"),w(g,"xmlns","http://www.w3.org/2000/svg"),w(g,"class","svelte-1bvc1p0"),w(r,"class",b="sort-button "+e[17]+" svelte-1bvc1p0"),J(r,"sorted",e[18]===e[93]),J(r,"des",e[18]===e[93]&&e[17]==="des"),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"aria-sort",k=e[35](e[88],e[18],e[17])),ye(t,"width","var(--cell-width-"+e[93]+")"),w(t,"class","svelte-1bvc1p0"),J(t,"focus",e[25]===e[93]||e[27]===e[93]),this.first=t},m(q,M){Y(q,t,M),E(t,l),Me(s,l,null),E(l,i),E(l,r),E(r,g),E(g,u),E(t,m),A=!0,L||(S=ke(r,"click",B),L=!0)},p(q,M){e=q;const p={};M[0]&32&&(p.latex_delimiters=e[5]),M[0]&2048&&(p.line_breaks=e[11]),M[0]&41943040&&(p.edit=e[25]===e[93]),M[0]&67108864&&(p.select_on_focus=e[26]),!o&&M[0]&8388608&&(o=!0,p.value=e[23][e[93]].value,pe(()=>o=!1)),!_&&M[0]&12582912&&(_=!0,p.el=e[22][e[89]].input,pe(()=>_=!1)),s.$set(p),(!A||M[0]&131072&&b!==(b="sort-button "+e[17]+" svelte-1bvc1p0"))&&w(r,"class",b),(!A||M[0]&8781824)&&J(r,"sorted",e[18]===e[93]),(!A||M[0]&8781824)&&J(r,"des",e[18]===e[93]&&e[17]==="des"),(!A||M[0]&8781824&&k!==(k=e[35](e[88],e[18],e[17])))&&w(t,"aria-sort",k),(!A||M[0]&8388608)&&ye(t,"width","var(--cell-width-"+e[93]+")"),(!A||M[0]&176160768)&&J(t,"focus",e[25]===e[93]||e[27]===e[93])},i(q){A||(W(s.$$.fragment,q),A=!0)},o(q){Q(s.$$.fragment,q),A=!1},d(q){q&&K(t),ze(s),L=!1,S()}}}function Nn(n){let e,t=[],l=new Map,s,o=we(n[23]);const _=i=>i[89];for(let i=0;i<o.length;i+=1){let r=Ft(n,o,i),g=_(r);l.set(g,t[i]=Yt(g,r))}return{c(){e=U("tr");for(let i=0;i<t.length;i+=1)t[i].c();w(e,"slot","thead"),w(e,"class","svelte-1bvc1p0")},m(i,r){Y(i,e,r);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);s=!0},p(i,r){r[0]&247859232|r[1]&1808&&(o=we(i[23]),Le(),t=xe(t,r,_,1,i,o,l,e,Xe,Yt,null,Ft),De())},i(i){if(!s){for(let r=0;r<o.length;r+=1)W(t[r]);s=!0}},o(i){for(let r=0;r<t.length;r+=1)Q(t[r]);s=!1},d(i){i&&K(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Zt(n,e){let t,l,s,o,_,i,r,g=`var(--cell-width-${e[91]})`,u,b,m;function k(y){e[55](y,e[86],e[91])}function A(y){e[56](y,e[89])}let L={display_value:e[13]?.[e[86]]?.[e[91]],latex_delimiters:e[5],line_breaks:e[11],editable:e[6],edit:ce(e[21],[e[86],e[91]]),datatype:Array.isArray(e[0])?e[0][e[91]]:e[0],clear_on_focus:e[24]};e[16][e[86]][e[91]].value!==void 0&&(L.value=e[16][e[86]][e[91]].value),e[22][e[89]].input!==void 0&&(L.el=e[22][e[89]].input),s=new $e({props:L}),fe.push(()=>ve(s,"value",k)),fe.push(()=>ve(s,"el",A)),s.$on("blur",e[57]);function S(){return e[58](e[86],e[91])}function H(){return e[59](e[86],e[91])}function R(){return e[60](e[86],e[91])}return{key:n,first:null,c(){t=U("td"),l=U("div"),Se(s.$$.fragment),i=ne(),w(l,"class","cell-wrap svelte-1bvc1p0"),w(t,"tabindex","0"),w(t,"style",r=e[14]?.[e[86]]?.[e[91]]||""),w(t,"class","svelte-1bvc1p0"),J(t,"focus",ce(e[15],[e[86],e[91]])),ye(t,"width",g),this.first=t},m(y,h){Y(y,t,h),E(t,l),Me(s,l,null),E(t,i),u=!0,b||(m=[ke(t,"touchstart",S,{passive:!0}),ke(t,"click",H),ke(t,"dblclick",R)],b=!0)},p(y,h){e=y;const B={};h[0]&8192|h[2]&50331648&&(B.display_value=e[13]?.[e[86]]?.[e[91]]),h[0]&32&&(B.latex_delimiters=e[5]),h[0]&2048&&(B.line_breaks=e[11]),h[0]&64&&(B.editable=e[6]),h[0]&2097152|h[2]&50331648&&(B.edit=ce(e[21],[e[86],e[91]])),h[0]&1|h[2]&33554432&&(B.datatype=Array.isArray(e[0])?e[0][e[91]]:e[0]),h[0]&16777216&&(B.clear_on_focus=e[24]),!o&&h[0]&65536|h[2]&50331648&&(o=!0,B.value=e[16][e[86]][e[91]].value,pe(()=>o=!1)),!_&&h[0]&4194304|h[2]&33554432&&(_=!0,B.el=e[22][e[89]].input,pe(()=>_=!1)),s.$set(B),(!u||h[0]&16384|h[2]&50331648&&r!==(r=e[14]?.[e[86]]?.[e[91]]||""))&&w(t,"style",r),(!u||h[0]&32768|h[2]&50331648)&&J(t,"focus",ce(e[15],[e[86],e[91]]));const q=h[0]&16384|h[2]&50331648;(h[0]&16384|h[2]&50331648&&g!==(g=`var(--cell-width-${e[91]})`)||q)&&ye(t,"width",g)},i(y){u||(W(s.$$.fragment,y),u=!0)},o(y){Q(s.$$.fragment,y),u=!1},d(y){y&&K(t),ze(s),b=!1,sl(m)}}}function On(n){let e,t=[],l=new Map,s,o=we(n[87]);const _=i=>i[89];for(let i=0;i<o.length;i+=1){let r=jt(n,o,i),g=_(r);l.set(g,t[i]=Zt(g,r))}return{c(){e=U("tr");for(let i=0;i<t.length;i+=1)t[i].c();w(e,"slot","tbody"),w(e,"class","svelte-1bvc1p0"),J(e,"row_odd",n[86]%2===0)},m(i,r){Y(i,e,r);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);s=!0},p(i,r){r[0]&560064609|r[1]&160|r[2]&50331648&&(o=we(i[87]),Le(),t=xe(t,r,_,1,i,o,l,e,Xe,Zt,null,jt),De()),(!s||r[2]&16777216)&&J(e,"row_odd",i[86]%2===0)},i(i){if(!s){for(let r=0;r<o.length;r+=1)W(t[r]);s=!0}},o(i){for(let r=0;r<t.length;r+=1)Q(t[r]);s=!1},d(i){i&&K(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Fn(n){let e,t,l,s,o;function _(u){n[65](u)}function i(u){n[66](u)}function r(u){n[67](u)}let g={max_height:n[10],selected:n[33],$$slots:{tbody:[On,({index:u,item:b})=>({86:u,87:b}),({index:u,item:b})=>[0,0,(u?16777216:0)|(b?33554432:0)]],thead:[Nn],default:[Hn]},$$scope:{ctx:n}};return n[16]!==void 0&&(g.items=n[16]),n[31]!==void 0&&(g.actual_height=n[31]),n[32]!==void 0&&(g.table_scrollbar_width=n[32]),e=new zn({props:g}),fe.push(()=>ve(e,"items",_)),fe.push(()=>ve(e,"actual_height",i)),fe.push(()=>ve(e,"table_scrollbar_width",r)),{c(){Se(e.$$.fragment)},m(u,b){Me(e,u,b),o=!0},p(u,b){const m={};b[0]&1024&&(m.max_height=u[10]),b[1]&4&&(m.selected=u[33]),b[0]&803727459|b[2]&50331648|b[3]&8&&(m.$$scope={dirty:b,ctx:u}),!t&&b[0]&65536&&(t=!0,m.items=u[16],pe(()=>t=!1)),!l&&b[1]&1&&(l=!0,m.actual_height=u[31],pe(()=>l=!1)),!s&&b[1]&2&&(s=!0,m.table_scrollbar_width=u[32],pe(()=>s=!1)),e.$set(m)},i(u){o||(W(e.$$.fragment,u),o=!0)},o(u){Q(e.$$.fragment,u),o=!1},d(u){ze(e,u)}}}function Gt(n){let e,t,l,s=n[4][1]==="dynamic"&&Qt(n),o=n[3][1]==="dynamic"&&Xt(n);return{c(){e=U("div"),s&&s.c(),t=ne(),o&&o.c(),w(e,"class","controls-wrap svelte-1bvc1p0")},m(_,i){Y(_,e,i),s&&s.m(e,null),E(e,t),o&&o.m(e,null),l=!0},p(_,i){_[4][1]==="dynamic"?s?(s.p(_,i),i[0]&16&&W(s,1)):(s=Qt(_),s.c(),W(s,1),s.m(e,t)):s&&(Le(),Q(s,1,1,()=>{s=null}),De()),_[3][1]==="dynamic"?o?(o.p(_,i),i[0]&8&&W(o,1)):(o=Xt(_),o.c(),W(o,1),o.m(e,null)):o&&(Le(),Q(o,1,1,()=>{o=null}),De())},i(_){l||(W(s),W(o),l=!0)},o(_){Q(s),Q(o),l=!1},d(_){_&&K(e),s&&s.d(),o&&o.d()}}}function Qt(n){let e,t,l;return t=new xt({props:{variant:"secondary",size:"sm",$$slots:{default:[jn]},$$scope:{ctx:n}}}),t.$on("click",n[72]),{c(){e=U("span"),Se(t.$$.fragment),w(e,"class","button-wrap svelte-1bvc1p0")},m(s,o){Y(s,e,o),Me(t,e,null),l=!0},p(s,o){const _={};o[0]&512|o[3]&8&&(_.$$scope={dirty:o,ctx:s}),t.$set(_)},i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){Q(t.$$.fragment,s),l=!1},d(s){s&&K(e),ze(t)}}}function jn(n){let e,t,l,s=n[9]("dataframe.new_row")+"",o;return{c(){e=Ae("svg"),t=Ae("path"),l=ne(),o=Ue(s),w(t,"fill","currentColor"),w(t,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(e,"aria-hidden","true"),w(e,"role","img"),w(e,"width","1em"),w(e,"height","1em"),w(e,"preserveAspectRatio","xMidYMid meet"),w(e,"viewBox","0 0 32 32"),w(e,"class","svelte-1bvc1p0")},m(_,i){Y(_,e,i),E(e,t),Y(_,l,i),Y(_,o,i)},p(_,i){i[0]&512&&s!==(s=_[9]("dataframe.new_row")+"")&&Pe(o,s)},d(_){_&&(K(e),K(l),K(o))}}}function Xt(n){let e,t,l;return t=new xt({props:{variant:"secondary",size:"sm",$$slots:{default:[Pn]},$$scope:{ctx:n}}}),t.$on("click",n[73]),{c(){e=U("span"),Se(t.$$.fragment),w(e,"class","button-wrap svelte-1bvc1p0")},m(s,o){Y(s,e,o),Me(t,e,null),l=!0},p(s,o){const _={};o[0]&512|o[3]&8&&(_.$$scope={dirty:o,ctx:s}),t.$set(_)},i(s){l||(W(t.$$.fragment,s),l=!0)},o(s){Q(t.$$.fragment,s),l=!1},d(s){s&&K(e),ze(t)}}}function Pn(n){let e,t,l,s=n[9]("dataframe.new_column")+"",o;return{c(){e=Ae("svg"),t=Ae("path"),l=ne(),o=Ue(s),w(t,"fill","currentColor"),w(t,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),w(e,"aria-hidden","true"),w(e,"role","img"),w(e,"width","1em"),w(e,"height","1em"),w(e,"preserveAspectRatio","xMidYMid meet"),w(e,"viewBox","0 0 32 32"),w(e,"class","svelte-1bvc1p0")},m(_,i){Y(_,e,i),E(e,t),Y(_,l,i),Y(_,o,i)},p(_,i){i[0]&512&&s!==(s=_[9]("dataframe.new_column")+"")&&Pe(o,s)},d(_){_&&(K(e),K(l),K(o))}}}function Un(n){let e,t,l,s,o,_,i,r=[],g=new Map,u,b,m,k=[],A=new Map,L,S,H,R,y,h,B,q,M=n[1]&&n[1].length!==0&&n[2]&&Jt(n),p=n[1]&&n[1].length!==0&&Vt(n),T=we(n[23]);const $=v=>v[89];for(let v=0;v<T.length;v+=1){let c=Ut(n,T,v),d=$(c);g.set(d,r[v]=Wt(d,c))}let N=we(n[34]);const oe=v=>v[89];for(let v=0;v<N.length;v+=1){let c=Pt(n,N,v),d=oe(c);A.set(d,k[v]=It(d,c))}function be(v){n[68](v)}let Z={flex:!1,center:!1,boundedheight:!1,disable_click:!0,root:n[8],$$slots:{default:[Fn]},$$scope:{ctx:n}};n[28]!==void 0&&(Z.dragging=n[28]),H=new Hl({props:Z}),fe.push(()=>ve(H,"dragging",be)),H.$on("load",n[69]);let O=n[6]&&Gt(n);return{c(){e=U("div"),M&&M.c(),t=ne(),l=U("div"),s=U("table"),p&&p.c(),o=ne(),_=U("thead"),i=U("tr");for(let v=0;v<r.length;v+=1)r[v].c();u=ne(),b=U("tbody"),m=U("tr");for(let v=0;v<k.length;v+=1)k[v].c();S=ne(),Se(H.$$.fragment),y=ne(),O&&O.c(),w(i,"class","svelte-1bvc1p0"),w(_,"class","svelte-1bvc1p0"),w(m,"class","svelte-1bvc1p0"),w(s,"class","svelte-1bvc1p0"),J(s,"fixed-layout",n[12].length!=0),w(l,"class","table-wrap svelte-1bvc1p0"),ye(l,"height",n[31]+"px"),w(l,"role","grid"),w(l,"tabindex","0"),J(l,"dragging",n[28]),J(l,"no-wrap",!n[7]),w(e,"class","svelte-1bvc1p0"),J(e,"label",n[1]&&n[1].length!==0)},m(v,c){Y(v,e,c),M&&M.m(e,null),E(e,t),E(e,l),E(l,s),p&&p.m(s,null),E(s,o),E(s,_),E(_,i);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(i,null);E(s,u),E(s,b),E(b,m);for(let d=0;d<k.length;d+=1)k[d]&&k[d].m(m,null);L=Rn.observe(s,n[53].bind(s)),n[54](s),E(l,S),Me(H,l,null),n[70](l),E(e,y),O&&O.m(e,null),h=!0,B||(q=[ke(window,"click",n[44]),ke(window,"touchstart",n[44]),ke(window,"resize",n[51]),ke(l,"keydown",n[71]),qn(Tl.call(null,e))],B=!0)},p(v,c){v[1]&&v[1].length!==0&&v[2]?M?M.p(v,c):(M=Jt(v),M.c(),M.m(e,t)):M&&(M.d(1),M=null),v[1]&&v[1].length!==0?p?p.p(v,c):(p=Vt(v),p.c(),p.m(s,o)):p&&(p.d(1),p=null),c[0]&42342432|c[1]&16&&(T=we(v[23]),Le(),r=xe(r,c,$,1,v,T,g,i,Xe,Wt,null,Ut),De()),c[0]&526369|c[1]&8&&(N=we(v[34]),Le(),k=xe(k,c,oe,1,v,N,A,m,Xe,It,null,Pt),De()),(!h||c[0]&4096)&&J(s,"fixed-layout",v[12].length!=0);const d={};c[0]&256&&(d.root=v[8]),c[0]&803728483|c[1]&7|c[3]&8&&(d.$$scope={dirty:c,ctx:v}),!R&&c[0]&268435456&&(R=!0,d.dragging=v[28],pe(()=>R=!1)),H.$set(d),(!h||c[1]&1)&&ye(l,"height",v[31]+"px"),(!h||c[0]&268435456)&&J(l,"dragging",v[28]),(!h||c[0]&128)&&J(l,"no-wrap",!v[7]),v[6]?O?(O.p(v,c),c[0]&64&&W(O,1)):(O=Gt(v),O.c(),W(O,1),O.m(e,null)):O&&(Le(),Q(O,1,1,()=>{O=null}),De()),(!h||c[0]&2)&&J(e,"label",v[1]&&v[1].length!==0)},i(v){if(!h){for(let c=0;c<T.length;c+=1)W(r[c]);for(let c=0;c<N.length;c+=1)W(k[c]);W(H.$$.fragment,v),W(O),h=!0}},o(v){for(let c=0;c<r.length;c+=1)Q(r[c]);for(let c=0;c<k.length;c+=1)Q(k[c]);Q(H.$$.fragment,v),Q(O),h=!1},d(v){v&&K(e),M&&M.d(),p&&p.d();for(let c=0;c<r.length;c+=1)r[c].d();for(let c=0;c<k.length;c+=1)k[c].d();L(),n[54](null),ze(H),n[70](null),O&&O.d(),B=!1,sl(q)}}}function Ne(){return Math.random().toString(36).substring(2,15)}function Jn(n,e){return e.filter(t);function t(l){var s=-1;return n.split(`
`).every(o);function o(_){if(!_)return!0;var i=_.split(l).length;return s<0&&(s=i),s===i&&i>1}}}function Vn(n){const e=atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],l=new ArrayBuffer(e.length),s=new Uint8Array(l);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return new Blob([l],{type:t})}function Wn(n,e,t){let l,s,{datatype:o}=e,{label:_=null}=e,{show_label:i=!0}=e,{headers:r=[]}=e,{values:g=[]}=e,{col_count:u}=e,{row_count:b}=e,{latex_delimiters:m}=e,{editable:k=!0}=e,{wrap:A=!1}=e,{root:L}=e,{i18n:S}=e,{height:H=500}=e,{line_breaks:R=!0}=e,{column_widths:y=[]}=e,h=!1,{display_value:B=null}=e,{styling:q=null}=e,M;const p=En();let T=!1;const $=(a,f)=>c?.[a]?.[f]?.value;let N={};function oe(a){let f=a||[];if(u[1]==="fixed"&&f.length<u[0]){const z=Array(u[0]-f.length).fill("").map((D,P)=>`${P+f.length}`);f=f.concat(z)}return!f||f.length===0?Array(u[0]).fill(0).map((z,D)=>{const P=Ne();return t(22,N[P]={cell:null,input:null},N),{id:P,value:JSON.stringify(D+1)}}):f.map((z,D)=>{const P=Ne();return t(22,N[P]={cell:null,input:null},N),{id:P,value:z??""}})}function be(a){const f=a.length;return Array(b[1]==="fixed"||f<b[0]?b[0]:f).fill(0).map((z,D)=>Array(u[1]==="fixed"?u[0]:f>0?a[0].length:r.length).fill(0).map((P,le)=>{const ue=Ne();return t(22,N[ue]=N[ue]||{input:null,cell:null},N),{value:a?.[D]?.[le]??"",id:ue}}))}let Z=oe(r),O;function v(){t(23,Z=oe(r)),t(49,O=r.slice()),ee()}let c=[[]],d;async function ee(){p("change",{data:c.map(a=>a.map(({value:f})=>f)),headers:Z.map(a=>a.value),metadata:k?null:{display_value:B,styling:q}})}function lt(a,f,z){if(!f)return"none";if(r[f]===a){if(z==="asc")return"ascending";if(z==="des")return"descending"}return"none"}function C(a){return c.reduce((f,z,D)=>{const P=z.reduce((le,ue,Ie)=>a===ue.id?Ie:le,-1);return P===-1?f:[D,P]},[-1,-1])}async function I(a,f){!k||ce(T,[a,f])||t(21,T=[a,f])}function x(a,f){const z={ArrowRight:[0,1],ArrowLeft:[0,-1],ArrowDown:[1,0],ArrowUp:[-1,0]}[a],D=f[0]+z[0],P=f[1]+z[1];if(D<0&&P<=0)t(27,j=P),t(15,h=!1);else{const le=c[D]?.[P];t(15,h=le?[D,P]:h)}}let se=!1;async function te(a){if(j!==!1&&he===!1)switch(a.key){case"ArrowDown":t(15,h=[0,j]),t(27,j=!1);return;case"ArrowLeft":t(27,j=j>0?j-1:j);return;case"ArrowRight":t(27,j=j<Z.length-1?j+1:j);return;case"Escape":a.preventDefault(),t(27,j=!1);break;case"Enter":a.preventDefault();break}if(!h)return;const[f,z]=h;switch(a.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":if(T)break;a.preventDefault(),x(a.key,[f,z]);break;case"Escape":if(!k)break;a.preventDefault(),t(21,T=!1);break;case"Enter":if(!k)break;a.preventDefault(),a.shiftKey?(st(f),await Ze(),t(15,h=[f+1,z])):ce(T,[f,z])?(t(21,T=!1),await Ze(),t(15,h=[f,z])):t(21,T=[f,z]);break;case"Backspace":if(!k)break;T||(a.preventDefault(),t(16,c[f][z].value="",c));break;case"Delete":if(!k)break;T||(a.preventDefault(),t(16,c[f][z].value="",c));break;case"Tab":let D=a.shiftKey?-1:1,P=c[f][z+D],le=c?.[f+D]?.[D>0?0:Z.length-1];(P||le)&&(a.preventDefault(),t(15,h=P?[f,z+D]:[f+D,D>0?0:Z.length-1])),t(21,T=!1);break;default:if(!k)break;(!T||T&&ce(T,[f,z]))&&a.key.length===1&&(t(24,se=!0),t(21,T=[f,z]))}}async function ie(a,f){ce(T,[a,f])||(t(25,he=!1),t(27,j=!1),t(21,T=!1),t(15,h=[a,f]),await Ze(),re.focus())}let F,G;function Re(a){typeof G!="number"||G!==a?(t(17,F="asc"),t(18,G=a)):F==="asc"?t(17,F="des"):F==="des"&&t(17,F="asc")}let he,Je=!1,j=!1;async function nt(a,f=!1){!k||u[1]!=="dynamic"||he===a||(t(15,h=!1),t(27,j=a),t(25,he=a),t(26,Je=f))}function il(a){if(k)switch(a.key){case"Escape":case"Enter":case"Tab":a.preventDefault(),t(15,h=!1),t(27,j=he),t(25,he=!1),re.focus();break}}async function st(a){if(re.focus(),b[1]==="dynamic"){if(c.length===0){t(48,g=[Array(r.length).fill("")]);return}c.splice(a?a+1:c.length,0,Array(c[0].length).fill(0).map((f,z)=>{const D=Ne();return t(22,N[D]={cell:null,input:null},N),{id:D,value:""}})),t(16,c),t(48,g),t(50,d),t(15,h=[a?a+1:c.length-1,0])}}async function pt(){if(re.focus(),u[1]==="dynamic"){for(let a=0;a<c.length;a++){const f=Ne();t(22,N[f]={cell:null,input:null},N),c[a].push({id:f,value:""})}r.push(`Header ${r.length+1}`),t(16,c),t(48,g),t(50,d),t(47,r),await Ze(),requestAnimationFrame(()=>{nt(r.length-1,!0);const a=re.querySelectorAll("tbody")[1].offsetWidth;re.querySelectorAll("table")[1].scrollTo({left:a})})}}function rl(a){a.stopImmediatePropagation();const[f]=a.composedPath();re.contains(f)||(t(21,T=!1),t(25,he=!1),t(27,j=!1),t(15,h=!1))}function vt(a){const f=new FileReader;function z(D){if(!D?.target?.result||typeof D.target.result!="string")return;const[P]=Jn(D.target.result,[",","	"]),[le,...ue]=Ol(P).parseRows(D.target.result);t(23,Z=oe(u[1]==="fixed"?le.slice(0,u[0]):le)),t(48,g=ue),f.removeEventListener("loadend",z)}f.addEventListener("loadend",z),f.readAsText(a)}let it=!1;function al(a){let f=a[0].slice();for(let z=0;z<a.length;z++)for(let D=0;D<a[z].length;D++)`${f[D].value}`.length<`${a[z][D].value}`.length&&(f[D]=a[z][D]);return f}let Te=[],re,rt;function Ve(){const a=Te.map((f,z)=>f?.clientWidth||0);if(a.length!==0)for(let f=0;f<a.length;f++)re.style.setProperty(`--cell-width-${f}`,`${a[f]-We/a.length}px`)}let at=H,We=0;function ol(a,f,z,D,P){let le=null;if(h&&h[0]in c&&h[1]in c[h[0]]&&(le=c[h[0]][h[1]].id),typeof D!="number"||!P)return;const ue=[...Array(a.length).keys()];if(P==="asc")ue.sort((ge,de)=>a[ge][D].value<a[de][D].value?-1:1);else if(P==="des")ue.sort((ge,de)=>a[ge][D].value>a[de][D].value?-1:1);else return;const Ie=[...a],At=f?[...f]:null,St=z?[...z]:null;if(ue.forEach((ge,de)=>{a[de]=Ie[ge],f&&At&&(f[de]=At[ge]),z&&St&&(z[de]=St[ge])}),t(16,c),t(48,g),t(50,d),le){const[ge,de]=C(le);t(15,h=[ge,de])}}let yt=!1;Tn(()=>{const a=new IntersectionObserver((f,z)=>{f.forEach(D=>{D.isIntersecting&&!yt&&(Ve(),t(16,c),t(48,g),t(50,d)),yt=D.isIntersecting})});return a.observe(re),()=>{a.disconnect()}});const ul=()=>Ve();function _l(a,f){fe[a?"unshift":"push"](()=>{Te[f]=a,t(19,Te)})}function fl(){M=Mn.entries.get(this)?.contentRect,t(20,M)}function hl(a){fe[a?"unshift":"push"](()=>{rt=a,t(30,rt)})}function cl(a,f,z){n.$$.not_equal(c[f][z].value,a)&&(c[f][z].value=a,t(16,c),t(48,g),t(50,d))}function gl(a,f){n.$$.not_equal(N[f].input,a)&&(N[f].input=a,t(22,N))}const dl=()=>(t(24,se=!1),re.focus()),bl=(a,f)=>I(a,f),ml=(a,f)=>ie(a,f),wl=(a,f)=>I(a,f);function kl(a,f){n.$$.not_equal(Z[f].value,a)&&(Z[f].value=a,t(23,Z))}function pl(a,f){n.$$.not_equal(N[f].input,a)&&(N[f].input=a,t(22,N))}const vl=a=>nt(a),yl=a=>Re(a);function Al(a){c=a,t(16,c),t(48,g),t(50,d)}function Sl(a){at=a,t(31,at)}function zl(a){We=a,t(32,We)}function Ml(a){it=a,t(28,it)}const Cl=a=>vt(Vn(a.detail.data));function ql(a){fe[a?"unshift":"push"](()=>{re=a,t(29,re)})}const Dl=a=>te(a),Ll=a=>(a.stopPropagation(),st()),Rl=a=>(a.stopPropagation(),pt());return n.$$set=a=>{"datatype"in a&&t(0,o=a.datatype),"label"in a&&t(1,_=a.label),"show_label"in a&&t(2,i=a.show_label),"headers"in a&&t(47,r=a.headers),"values"in a&&t(48,g=a.values),"col_count"in a&&t(3,u=a.col_count),"row_count"in a&&t(4,b=a.row_count),"latex_delimiters"in a&&t(5,m=a.latex_delimiters),"editable"in a&&t(6,k=a.editable),"wrap"in a&&t(7,A=a.wrap),"root"in a&&t(8,L=a.root),"i18n"in a&&t(9,S=a.i18n),"height"in a&&t(10,H=a.height),"line_breaks"in a&&t(11,R=a.line_breaks),"column_widths"in a&&t(12,y=a.column_widths),"display_value"in a&&t(13,B=a.display_value),"styling"in a&&t(14,q=a.styling)},n.$$.update=()=>{if(n.$$.dirty[0]&32768&&h!==!1){const[a,f]=h;!isNaN(a)&&!isNaN(f)&&p("select",{index:[a,f],value:$(a,f)})}n.$$.dirty[1]&327680&&(ce(r,O)||v()),n.$$.dirty[1]&655360&&(ce(g,d)||(t(16,c=be(g)),t(50,d=g))),n.$$.dirty[0]&65536&&c&&ee(),n.$$.dirty[0]&65536&&t(34,l=al(c)),n.$$.dirty[0]&524288&&Te[0]&&Ve(),n.$$.dirty[0]&483328&&ol(c,B,q,G,F),n.$$.dirty[0]&32768&&t(33,s=!!h&&h[0])},[o,_,i,u,b,m,k,A,L,S,H,R,y,B,q,h,c,F,G,Te,M,T,N,Z,se,he,Je,j,it,re,rt,at,We,s,l,lt,I,te,ie,Re,nt,il,st,pt,rl,vt,Ve,r,g,O,d,ul,_l,fl,hl,cl,gl,dl,bl,ml,wl,kl,pl,vl,yl,Al,Sl,zl,Ml,Cl,ql,Dl,Ll,Rl]}class In extends Cn{constructor(e){super(),Ln(this,e,Wn,Un,Bn,{datatype:0,label:1,show_label:2,headers:47,values:48,col_count:3,row_count:4,latex_delimiters:5,editable:6,wrap:7,root:8,i18n:9,height:10,line_breaks:11,column_widths:12,display_value:13,styling:14},null,[-1,-1,-1,-1])}get datatype(){return this.$$.ctx[0]}set datatype(e){this.$$set({datatype:e}),X()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),X()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),X()}get headers(){return this.$$.ctx[47]}set headers(e){this.$$set({headers:e}),X()}get values(){return this.$$.ctx[48]}set values(e){this.$$set({values:e}),X()}get col_count(){return this.$$.ctx[3]}set col_count(e){this.$$set({col_count:e}),X()}get row_count(){return this.$$.ctx[4]}set row_count(e){this.$$set({row_count:e}),X()}get latex_delimiters(){return this.$$.ctx[5]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),X()}get editable(){return this.$$.ctx[6]}set editable(e){this.$$set({editable:e}),X()}get wrap(){return this.$$.ctx[7]}set wrap(e){this.$$set({wrap:e}),X()}get root(){return this.$$.ctx[8]}set root(e){this.$$set({root:e}),X()}get i18n(){return this.$$.ctx[9]}set i18n(e){this.$$set({i18n:e}),X()}get height(){return this.$$.ctx[10]}set height(e){this.$$set({height:e}),X()}get line_breaks(){return this.$$.ctx[11]}set line_breaks(e){this.$$set({line_breaks:e}),X()}get column_widths(){return this.$$.ctx[12]}set column_widths(e){this.$$set({column_widths:e}),X()}get display_value(){return this.$$.ctx[13]}set display_value(e){this.$$set({display_value:e}),X()}get styling(){return this.$$.ctx[14]}set styling(e){this.$$set({styling:e}),X()}}const Kn=In,{SvelteComponent:Yn,assign:Zn,create_component:dt,destroy_component:bt,detach:Gn,flush:V,get_spread_object:Qn,get_spread_update:Xn,init:xn,insert:$n,mount_component:mt,safe_not_equal:es,space:ts,transition_in:wt,transition_out:kt}=window.__gradio__svelte__internal,{afterUpdate:ls,tick:ns}=window.__gradio__svelte__internal;function ss(n){let e,t,l,s;const o=[{autoscroll:n[14].autoscroll},{i18n:n[14].i18n},n[17]];let _={};for(let i=0;i<o.length;i+=1)_=Zn(_,o[i]);return e=new El({props:_}),l=new Kn({props:{root:n[11],label:n[5],show_label:n[6],row_count:n[4],col_count:n[3],values:n[22],display_value:n[20],styling:n[21],headers:n[19],wrap:n[7],datatype:n[8],latex_delimiters:n[15],editable:n[18],height:n[16],i18n:n[14].i18n,line_breaks:n[12],column_widths:n[13]}}),l.$on("change",n[28]),l.$on("select",n[29]),{c(){dt(e.$$.fragment),t=ts(),dt(l.$$.fragment)},m(i,r){mt(e,i,r),$n(i,t,r),mt(l,i,r),s=!0},p(i,r){const g=r[0]&147456?Xn(o,[r[0]&16384&&{autoscroll:i[14].autoscroll},r[0]&16384&&{i18n:i[14].i18n},r[0]&131072&&Qn(i[17])]):{};e.$set(g);const u={};r[0]&2048&&(u.root=i[11]),r[0]&32&&(u.label=i[5]),r[0]&64&&(u.show_label=i[6]),r[0]&16&&(u.row_count=i[4]),r[0]&8&&(u.col_count=i[3]),r[0]&4194304&&(u.values=i[22]),r[0]&1048576&&(u.display_value=i[20]),r[0]&2097152&&(u.styling=i[21]),r[0]&524288&&(u.headers=i[19]),r[0]&128&&(u.wrap=i[7]),r[0]&256&&(u.datatype=i[8]),r[0]&32768&&(u.latex_delimiters=i[15]),r[0]&262144&&(u.editable=i[18]),r[0]&65536&&(u.height=i[16]),r[0]&16384&&(u.i18n=i[14].i18n),r[0]&4096&&(u.line_breaks=i[12]),r[0]&8192&&(u.column_widths=i[13]),l.$set(u)},i(i){s||(wt(e.$$.fragment,i),wt(l.$$.fragment,i),s=!0)},o(i){kt(e.$$.fragment,i),kt(l.$$.fragment,i),s=!1},d(i){i&&Gn(t),bt(e,i),bt(l,i)}}}function is(n){let e,t;return e=new Bl({props:{visible:n[2],padding:!1,elem_id:n[0],elem_classes:n[1],container:!1,scale:n[9],min_width:n[10],allow_overflow:!1,$$slots:{default:[ss]},$$scope:{ctx:n}}}),{c(){dt(e.$$.fragment)},m(l,s){mt(e,l,s),t=!0},p(l,s){const o={};s[0]&4&&(o.visible=l[2]),s[0]&1&&(o.elem_id=l[0]),s[0]&2&&(o.elem_classes=l[1]),s[0]&512&&(o.scale=l[9]),s[0]&1024&&(o.min_width=l[10]),s[0]&8387064|s[1]&1&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(wt(e.$$.fragment,l),t=!0)},o(l){kt(e.$$.fragment,l),t=!1},d(l){bt(e,l)}}}function rs(n,e,t){let{headers:l=[]}=e,{elem_id:s=""}=e,{elem_classes:o=[]}=e,{visible:_=!0}=e,{value:i={data:[["","",""]],headers:["1","2","3"],metadata:null}}=e,r="",{value_is_output:g=!1}=e,{col_count:u}=e,{row_count:b}=e,{label:m=null}=e,{show_label:k=!0}=e,{wrap:A}=e,{datatype:L}=e,{scale:S=null}=e,{min_width:H=void 0}=e,{root:R}=e,{line_breaks:y=!0}=e,{column_widths:h=[]}=e,{gradio:B}=e,{latex_delimiters:q}=e,{height:M=void 0}=e,{loading_status:p}=e,{interactive:T}=e,$,N,oe,be;async function Z(d){let ee=d||i;t(19,$=[...ee.headers||l]),t(22,be=ee.data?[...ee.data]:[]),t(20,N=ee?.metadata?.display_value?[...ee?.metadata?.display_value]:null),t(21,oe=ee?.metadata?.styling?[...ee?.metadata?.styling]:null),await ns(),B.dispatch("change"),g||B.dispatch("input")}Z(),ls(()=>{t(25,g=!1)}),(Array.isArray(i)&&i?.[0]?.length===0||i.data?.[0]?.length===0)&&(i={data:[Array(u?.[0]||3).fill("")],headers:Array(u?.[0]||3).fill("").map((d,ee)=>`${ee+1}`),metadata:null});async function O(d){JSON.stringify(d)!==r&&(t(24,i={...d}),t(27,r=JSON.stringify(i)),Z(d))}const v=d=>O(d.detail),c=d=>B.dispatch("select",d.detail);return n.$$set=d=>{"headers"in d&&t(26,l=d.headers),"elem_id"in d&&t(0,s=d.elem_id),"elem_classes"in d&&t(1,o=d.elem_classes),"visible"in d&&t(2,_=d.visible),"value"in d&&t(24,i=d.value),"value_is_output"in d&&t(25,g=d.value_is_output),"col_count"in d&&t(3,u=d.col_count),"row_count"in d&&t(4,b=d.row_count),"label"in d&&t(5,m=d.label),"show_label"in d&&t(6,k=d.show_label),"wrap"in d&&t(7,A=d.wrap),"datatype"in d&&t(8,L=d.datatype),"scale"in d&&t(9,S=d.scale),"min_width"in d&&t(10,H=d.min_width),"root"in d&&t(11,R=d.root),"line_breaks"in d&&t(12,y=d.line_breaks),"column_widths"in d&&t(13,h=d.column_widths),"gradio"in d&&t(14,B=d.gradio),"latex_delimiters"in d&&t(15,q=d.latex_delimiters),"height"in d&&t(16,M=d.height),"loading_status"in d&&t(17,p=d.loading_status),"interactive"in d&&t(18,T=d.interactive)},n.$$.update=()=>{n.$$.dirty[0]&150994944&&r&&JSON.stringify(i)!==r&&(t(27,r=JSON.stringify(i)),Z())},[s,o,_,u,b,m,k,A,L,S,H,R,y,h,B,q,M,p,T,$,N,oe,be,O,i,g,l,r,v,c]}class ws extends Yn{constructor(e){super(),xn(this,e,rs,is,es,{headers:26,elem_id:0,elem_classes:1,visible:2,value:24,value_is_output:25,col_count:3,row_count:4,label:5,show_label:6,wrap:7,datatype:8,scale:9,min_width:10,root:11,line_breaks:12,column_widths:13,gradio:14,latex_delimiters:15,height:16,loading_status:17,interactive:18},null,[-1,-1])}get headers(){return this.$$.ctx[26]}set headers(e){this.$$set({headers:e}),V()}get elem_id(){return this.$$.ctx[0]}set elem_id(e){this.$$set({elem_id:e}),V()}get elem_classes(){return this.$$.ctx[1]}set elem_classes(e){this.$$set({elem_classes:e}),V()}get visible(){return this.$$.ctx[2]}set visible(e){this.$$set({visible:e}),V()}get value(){return this.$$.ctx[24]}set value(e){this.$$set({value:e}),V()}get value_is_output(){return this.$$.ctx[25]}set value_is_output(e){this.$$set({value_is_output:e}),V()}get col_count(){return this.$$.ctx[3]}set col_count(e){this.$$set({col_count:e}),V()}get row_count(){return this.$$.ctx[4]}set row_count(e){this.$$set({row_count:e}),V()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),V()}get show_label(){return this.$$.ctx[6]}set show_label(e){this.$$set({show_label:e}),V()}get wrap(){return this.$$.ctx[7]}set wrap(e){this.$$set({wrap:e}),V()}get datatype(){return this.$$.ctx[8]}set datatype(e){this.$$set({datatype:e}),V()}get scale(){return this.$$.ctx[9]}set scale(e){this.$$set({scale:e}),V()}get min_width(){return this.$$.ctx[10]}set min_width(e){this.$$set({min_width:e}),V()}get root(){return this.$$.ctx[11]}set root(e){this.$$set({root:e}),V()}get line_breaks(){return this.$$.ctx[12]}set line_breaks(e){this.$$set({line_breaks:e}),V()}get column_widths(){return this.$$.ctx[13]}set column_widths(e){this.$$set({column_widths:e}),V()}get gradio(){return this.$$.ctx[14]}set gradio(e){this.$$set({gradio:e}),V()}get latex_delimiters(){return this.$$.ctx[15]}set latex_delimiters(e){this.$$set({latex_delimiters:e}),V()}get height(){return this.$$.ctx[16]}set height(e){this.$$set({height:e}),V()}get loading_status(){return this.$$.ctx[17]}set loading_status(e){this.$$set({loading_status:e}),V()}get interactive(){return this.$$.ctx[18]}set interactive(e){this.$$set({interactive:e}),V()}}export{Kn as BaseDataFrame,vs as BaseExample,ws as default};
//# sourceMappingURL=Index-d9d08721.js.map
