import"./SelectSource.svelte_svelte_type_style_lang-a1c177eb.js";import{B as _e}from"./BlockLabel-773ad87b.js";import{E as de}from"./Empty-72ec7a6b.js";import"./Index-25fb47ed.js";import{F as Z}from"./File-d0b52941.js";import{U as we}from"./ModifyUpload.svelte_svelte_type_style_lang-0f01576e.js";import{M as pe}from"./ModifyUpload-f128479e.js";import{D as ke}from"./DownloadLink-f0c308cc.js";const ee=l=>{let e=["B","KB","MB","GB","PB"],n=0;for(;l>1024;)l/=1024,n++;let t=e[n];return l.toFixed(1)+"&nbsp;"+t};const{HtmlTag:ve,SvelteComponent:$e,append:w,attr:p,check_outros:ce,create_component:ye,destroy_component:qe,destroy_each:Fe,detach:P,element:v,ensure_array_like:te,flush:N,group_outros:he,init:Be,insert:I,listen:V,mount_component:ze,noop:le,run_all:Ae,safe_not_equal:Ce,set_data:W,set_style:ne,space:G,text:H,toggle_class:ie,transition_in:C,transition_out:U}=window.__gradio__svelte__internal,{createEventDispatcher:Ee}=window.__gradio__svelte__internal;function se(l,e,n){const t=l.slice();return t[10]=e[n],t[12]=n,t}function De(l){let e=l[2]("file.uploading")+"",n;return{c(){n=H(e)},m(t,i){I(t,n,i)},p(t,i){i&4&&e!==(e=t[2]("file.uploading")+"")&&W(n,e)},i:le,o:le,d(t){t&&P(n)}}}function Se(l){let e,n;return e=new ke({props:{href:l[10].url,download:window.__is_colab__?null:l[10].orig_name,$$slots:{default:[Ue]},$$scope:{ctx:l}}}),{c(){ye(e.$$.fragment)},m(t,i){ze(e,t,i),n=!0},p(t,i){const s={};i&8&&(s.href=t[10].url),i&8&&(s.download=window.__is_colab__?null:t[10].orig_name),i&8200&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(C(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){qe(e,t)}}}function Ue(l){let e,n=(l[10].size!=null?ee(l[10].size):"(size unknown)")+"",t;return{c(){e=new ve(!1),t=H(" ⇣"),e.a=t},m(i,s){e.m(n,i,s),I(i,t,s)},p(i,s){s&8&&n!==(n=(i[10].size!=null?ee(i[10].size):"(size unknown)")+"")&&e.p(n)},d(i){i&&(e.d(),P(t))}}}function oe(l){let e,n,t,i;function s(){return l[7](l[12])}function o(...f){return l[8](l[12],...f)}return{c(){e=v("td"),n=v("button"),n.textContent="×",p(n,"class","label-clear-button svelte-18wv37q"),p(n,"aria-label","Remove this file"),p(e,"class","svelte-18wv37q")},m(f,r){I(f,e,r),w(e,n),t||(i=[V(n,"click",s),V(n,"keydown",o)],t=!0)},p(f,r){l=f},d(f){f&&P(e),t=!1,Ae(i)}}}function ae(l){let e,n,t,i=l[10].filename_stem+"",s,o,f,r=l[10].filename_ext+"",c,u,a,h,_,m,z,$,d,S,M;const L=[Se,De],g=[];function x(y,k){return y[10].url?0:1}_=x(l),m=g[_]=L[_](l);let b=l[3].length>1&&oe(l);function be(){return l[9](l[10],l[12])}return{c(){e=v("tr"),n=v("td"),t=v("span"),s=H(i),o=G(),f=v("span"),c=H(r),a=G(),h=v("td"),m.c(),z=G(),b&&b.c(),$=G(),p(t,"class","stem svelte-18wv37q"),p(f,"class","ext svelte-18wv37q"),p(n,"class","filename svelte-18wv37q"),p(n,"aria-label",u=l[10].orig_name),p(h,"class","download svelte-18wv37q"),p(e,"class","file svelte-18wv37q"),ie(e,"selectable",l[0])},m(y,k){I(y,e,k),w(e,n),w(n,t),w(t,s),w(n,o),w(n,f),w(f,c),w(e,a),w(e,h),g[_].m(h,null),w(e,z),b&&b.m(e,null),w(e,$),d=!0,S||(M=V(e,"click",be),S=!0)},p(y,k){l=y,(!d||k&8)&&i!==(i=l[10].filename_stem+"")&&W(s,i),(!d||k&8)&&r!==(r=l[10].filename_ext+"")&&W(c,r),(!d||k&8&&u!==(u=l[10].orig_name))&&p(n,"aria-label",u);let Q=_;_=x(l),_===Q?g[_].p(l,k):(he(),U(g[Q],1,1,()=>{g[Q]=null}),ce(),m=g[_],m?m.p(l,k):(m=g[_]=L[_](l),m.c()),C(m,1),m.m(h,null)),l[3].length>1?b?b.p(l,k):(b=oe(l),b.c(),b.m(e,$)):b&&(b.d(1),b=null),(!d||k&1)&&ie(e,"selectable",l[0])},i(y){d||(C(m),d=!0)},o(y){U(m),d=!1},d(y){y&&P(e),g[_].d(),b&&b.d(),S=!1,M()}}}function Pe(l){let e,n,t,i,s=te(l[3]),o=[];for(let r=0;r<s.length;r+=1)o[r]=ae(se(l,s,r));const f=r=>U(o[r],1,1,()=>{o[r]=null});return{c(){e=v("div"),n=v("table"),t=v("tbody");for(let r=0;r<o.length;r+=1)o[r].c();p(t,"class","svelte-18wv37q"),p(n,"class","file-preview svelte-18wv37q"),p(e,"class","file-preview-holder svelte-18wv37q"),ne(e,"max-height",typeof l[1]===void 0?"auto":l[1]+"px")},m(r,c){I(r,e,c),w(e,n),w(n,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);i=!0},p(r,[c]){if(c&61){s=te(r[3]);let u;for(u=0;u<s.length;u+=1){const a=se(r,s,u);o[u]?(o[u].p(a,c),C(o[u],1)):(o[u]=ae(a),o[u].c(),C(o[u],1),o[u].m(t,null))}for(he(),u=s.length;u<o.length;u+=1)f(u);ce()}(!i||c&2)&&ne(e,"max-height",typeof r[1]===void 0?"auto":r[1]+"px")},i(r){if(!i){for(let c=0;c<s.length;c+=1)C(o[c]);i=!0}},o(r){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)U(o[c]);i=!1},d(r){r&&P(e),Fe(o,r)}}}function Ie(l){const e=l.lastIndexOf(".");return e===-1?[l,""]:[l.slice(0,e),l.slice(e)]}function Me(l,e,n){let t;const i=Ee();let{value:s}=e,{selectable:o=!1}=e,{height:f=void 0}=e,{i18n:r}=e;function c(_){t.splice(_,1),n(3,t=[...t]),n(6,s=t),i("change",t)}const u=_=>c(_),a=(_,m)=>{m.key==="Enter"&&c(_)},h=(_,m)=>i("select",{value:_.orig_name,index:m});return l.$$set=_=>{"value"in _&&n(6,s=_.value),"selectable"in _&&n(0,o=_.selectable),"height"in _&&n(1,f=_.height),"i18n"in _&&n(2,r=_.i18n)},l.$$.update=()=>{l.$$.dirty&64&&n(3,t=(Array.isArray(s)?s:[s]).map(_=>{const[m,z]=Ie(_.orig_name??"");return{..._,filename_stem:m,filename_ext:z}}))},[o,f,r,t,i,c,s,u,a,h]}class Le extends $e{constructor(e){super(),Be(this,e,Me,Pe,Ce,{value:6,selectable:0,height:1,i18n:2})}get value(){return this.$$.ctx[6]}set value(e){this.$$set({value:e}),N()}get selectable(){return this.$$.ctx[0]}set selectable(e){this.$$set({selectable:e}),N()}get height(){return this.$$.ctx[1]}set height(e){this.$$set({height:e}),N()}get i18n(){return this.$$.ctx[2]}set i18n(e){this.$$set({i18n:e}),N()}}const ge=Le,{SvelteComponent:Ne,bubble:Ge,check_outros:He,create_component:T,destroy_component:j,detach:re,empty:Ke,flush:A,group_outros:Oe,init:Re,insert:ue,mount_component:J,safe_not_equal:Te,space:je,transition_in:E,transition_out:D}=window.__gradio__svelte__internal;function Je(l){let e,n;return e=new de({props:{unpadded_box:!0,size:"large",$$slots:{default:[Ve]},$$scope:{ctx:l}}}),{c(){T(e.$$.fragment)},m(t,i){J(e,t,i),n=!0},p(t,i){const s={};i&128&&(s.$$scope={dirty:i,ctx:t}),e.$set(s)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Qe(l){let e,n;return e=new ge({props:{i18n:l[5],selectable:l[3],value:l[0],height:l[4]}}),e.$on("select",l[6]),{c(){T(e.$$.fragment)},m(t,i){J(e,t,i),n=!0},p(t,i){const s={};i&32&&(s.i18n=t[5]),i&8&&(s.selectable=t[3]),i&1&&(s.value=t[0]),i&16&&(s.height=t[4]),e.$set(s)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Ve(l){let e,n;return e=new Z({}),{c(){T(e.$$.fragment)},m(t,i){J(e,t,i),n=!0},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function We(l){let e,n,t,i,s,o,f;e=new _e({props:{show_label:l[2],float:l[0]===null,Icon:Z,label:l[1]||"File"}});const r=[Qe,Je],c=[];function u(a,h){return h&1&&(t=null),t==null&&(t=!!(a[0]&&(!Array.isArray(a[0])||a[0].length>0))),t?0:1}return i=u(l,-1),s=c[i]=r[i](l),{c(){T(e.$$.fragment),n=je(),s.c(),o=Ke()},m(a,h){J(e,a,h),ue(a,n,h),c[i].m(a,h),ue(a,o,h),f=!0},p(a,[h]){const _={};h&4&&(_.show_label=a[2]),h&1&&(_.float=a[0]===null),h&2&&(_.label=a[1]||"File"),e.$set(_);let m=i;i=u(a,h),i===m?c[i].p(a,h):(Oe(),D(c[m],1,1,()=>{c[m]=null}),He(),s=c[i],s?s.p(a,h):(s=c[i]=r[i](a),s.c()),E(s,1),s.m(o.parentNode,o))},i(a){f||(E(e.$$.fragment,a),E(s),f=!0)},o(a){D(e.$$.fragment,a),D(s),f=!1},d(a){a&&(re(n),re(o)),j(e,a),c[i].d(a)}}}function Xe(l,e,n){let{value:t=null}=e,{label:i}=e,{show_label:s=!0}=e,{selectable:o=!1}=e,{height:f=void 0}=e,{i18n:r}=e;function c(u){Ge.call(this,l,u)}return l.$$set=u=>{"value"in u&&n(0,t=u.value),"label"in u&&n(1,i=u.label),"show_label"in u&&n(2,s=u.show_label),"selectable"in u&&n(3,o=u.selectable),"height"in u&&n(4,f=u.height),"i18n"in u&&n(5,r=u.i18n)},[t,i,s,o,f,r,c]}class Ye extends Ne{constructor(e){super(),Re(this,e,Xe,We,Te,{value:0,label:1,show_label:2,selectable:3,height:4,i18n:5})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),A()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),A()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),A()}get selectable(){return this.$$.ctx[3]}set selectable(e){this.$$set({selectable:e}),A()}get height(){return this.$$.ctx[4]}set height(e){this.$$set({height:e}),A()}get i18n(){return this.$$.ctx[5]}set i18n(e){this.$$set({i18n:e}),A()}}const zt=Ye,{SvelteComponent:Ze,add_flush_callback:xe,bind:et,binding_callbacks:tt,bubble:fe,check_outros:lt,create_component:K,create_slot:nt,destroy_component:O,detach:X,empty:it,flush:q,get_all_dirty_from_scope:st,get_slot_changes:ot,group_outros:at,init:rt,insert:Y,mount_component:R,safe_not_equal:ut,space:me,transition_in:F,transition_out:B,update_slot_base:ft}=window.__gradio__svelte__internal,{createEventDispatcher:_t,tick:ct}=window.__gradio__svelte__internal;function ht(l){let e,n,t;function i(o){l[15](o)}let s={filetype:l[4],file_count:l[3],root:l[6],$$slots:{default:[mt]},$$scope:{ctx:l}};return l[9]!==void 0&&(s.dragging=l[9]),e=new we({props:s}),tt.push(()=>et(e,"dragging",i)),e.$on("load",l[10]),{c(){K(e.$$.fragment)},m(o,f){R(e,o,f),t=!0},p(o,f){const r={};f&16&&(r.filetype=o[4]),f&8&&(r.file_count=o[3]),f&64&&(r.root=o[6]),f&65536&&(r.$$scope={dirty:f,ctx:o}),!n&&f&512&&(n=!0,r.dragging=o[9],xe(()=>n=!1)),e.$set(r)},i(o){t||(F(e.$$.fragment,o),t=!0)},o(o){B(e.$$.fragment,o),t=!1},d(o){O(e,o)}}}function gt(l){let e,n,t,i;return e=new pe({props:{i18n:l[8],absolute:!0}}),e.$on("clear",l[11]),t=new ge({props:{i18n:l[8],selectable:l[5],value:l[0],height:l[7]}}),t.$on("select",l[13]),t.$on("change",l[14]),{c(){K(e.$$.fragment),n=me(),K(t.$$.fragment)},m(s,o){R(e,s,o),Y(s,n,o),R(t,s,o),i=!0},p(s,o){const f={};o&256&&(f.i18n=s[8]),e.$set(f);const r={};o&256&&(r.i18n=s[8]),o&32&&(r.selectable=s[5]),o&1&&(r.value=s[0]),o&128&&(r.height=s[7]),t.$set(r)},i(s){i||(F(e.$$.fragment,s),F(t.$$.fragment,s),i=!0)},o(s){B(e.$$.fragment,s),B(t.$$.fragment,s),i=!1},d(s){s&&X(n),O(e,s),O(t,s)}}}function mt(l){let e;const n=l[12].default,t=nt(n,l,l[16],null);return{c(){t&&t.c()},m(i,s){t&&t.m(i,s),e=!0},p(i,s){t&&t.p&&(!e||s&65536)&&ft(t,n,i,i[16],e?ot(n,i[16],s,null):st(i[16]),null)},i(i){e||(F(t,i),e=!0)},o(i){B(t,i),e=!1},d(i){t&&t.d(i)}}}function bt(l){let e,n,t,i,s,o,f;e=new _e({props:{show_label:l[2],Icon:Z,float:l[0]===null,label:l[1]||"File"}});const r=[gt,ht],c=[];function u(a,h){return h&1&&(t=null),t==null&&(t=!!(a[0]&&(!Array.isArray(a[0])||a[0].length>0))),t?0:1}return i=u(l,-1),s=c[i]=r[i](l),{c(){K(e.$$.fragment),n=me(),s.c(),o=it()},m(a,h){R(e,a,h),Y(a,n,h),c[i].m(a,h),Y(a,o,h),f=!0},p(a,[h]){const _={};h&4&&(_.show_label=a[2]),h&1&&(_.float=a[0]===null),h&2&&(_.label=a[1]||"File"),e.$set(_);let m=i;i=u(a,h),i===m?c[i].p(a,h):(at(),B(c[m],1,1,()=>{c[m]=null}),lt(),s=c[i],s?s.p(a,h):(s=c[i]=r[i](a),s.c()),F(s,1),s.m(o.parentNode,o))},i(a){f||(F(e.$$.fragment,a),F(s),f=!0)},o(a){B(e.$$.fragment,a),B(s),f=!1},d(a){a&&(X(n),X(o)),O(e,a),c[i].d(a)}}}function dt(l,e,n){let{$$slots:t={},$$scope:i}=e,{value:s}=e,{label:o}=e,{show_label:f=!0}=e,{file_count:r="single"}=e,{file_types:c=null}=e,{selectable:u=!1}=e,{root:a}=e,{height:h=void 0}=e,{i18n:_}=e;async function m({detail:g}){n(0,s=g),await ct(),$("change",s),$("upload",g)}function z(){n(0,s=null),$("change",null),$("clear")}const $=_t();let d=!1;function S(g){fe.call(this,l,g)}function M(g){fe.call(this,l,g)}function L(g){d=g,n(9,d)}return l.$$set=g=>{"value"in g&&n(0,s=g.value),"label"in g&&n(1,o=g.label),"show_label"in g&&n(2,f=g.show_label),"file_count"in g&&n(3,r=g.file_count),"file_types"in g&&n(4,c=g.file_types),"selectable"in g&&n(5,u=g.selectable),"root"in g&&n(6,a=g.root),"height"in g&&n(7,h=g.height),"i18n"in g&&n(8,_=g.i18n),"$$scope"in g&&n(16,i=g.$$scope)},l.$$.update=()=>{l.$$.dirty&512&&$("drag",d)},[s,o,f,r,c,u,a,h,_,d,m,z,t,S,M,L,i]}class wt extends Ze{constructor(e){super(),rt(this,e,dt,bt,ut,{value:0,label:1,show_label:2,file_count:3,file_types:4,selectable:5,root:6,height:7,i18n:8})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),q()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),q()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),q()}get file_count(){return this.$$.ctx[3]}set file_count(e){this.$$set({file_count:e}),q()}get file_types(){return this.$$.ctx[4]}set file_types(e){this.$$set({file_types:e}),q()}get selectable(){return this.$$.ctx[5]}set selectable(e){this.$$set({selectable:e}),q()}get root(){return this.$$.ctx[6]}set root(e){this.$$set({root:e}),q()}get height(){return this.$$.ctx[7]}set height(e){this.$$set({height:e}),q()}get i18n(){return this.$$.ctx[8]}set i18n(e){this.$$set({i18n:e}),q()}}const At=wt;export{At as B,zt as F,ge as a};
//# sourceMappingURL=FileUpload-f111e3e4.js.map
