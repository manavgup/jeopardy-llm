import{g as pl}from"./color-963948e0.js";import{c as Ve,B as kl}from"./SelectSource.svelte_svelte_type_style_lang-a1c177eb.js";import{B as vl}from"./BlockLabel-773ad87b.js";import{E as wl}from"./Empty-72ec7a6b.js";import{S as yl}from"./Index-25fb47ed.js";import"./index-b2d8d4c2.js";import"./svelte/svelte.js";const{SvelteComponent:_t,append:Ie,attr:D,detach:dt,init:ht,insert:gt,noop:Ee,safe_not_equal:mt,svg_element:Ce}=window.__gradio__svelte__internal;function bt(l){let e,t,n;return{c(){e=Ce("svg"),t=Ce("path"),n=Ce("path"),D(t,"fill","currentColor"),D(t,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),D(n,"fill","currentColor"),D(n,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),D(e,"xmlns","http://www.w3.org/2000/svg"),D(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),D(e,"aria-hidden","true"),D(e,"role","img"),D(e,"class","iconify iconify--carbon"),D(e,"width","100%"),D(e,"height","100%"),D(e,"preserveAspectRatio","xMidYMid meet"),D(e,"viewBox","0 0 32 32")},m(s,i){gt(s,e,i),Ie(e,t),Ie(e,n)},p:Ee,i:Ee,o:Ee,d(s){s&&dt(e)}}}class je extends _t{constructor(e){super(),ht(this,e,null,bt,mt,{})}}function Be(l,e,t){if(!t){var n=document.createElement("canvas");t=n.getContext("2d")}t.fillStyle=l,t.fillRect(0,0,1,1);const[s,i,o]=t.getImageData(0,0,1,1).data;return t.clearRect(0,0,1,1),`rgba(${s}, ${i}, ${o}, ${255/e})`}function jl(l,e,t,n){for(const s in l){const i=l[s].trim();i in Ve?e[s]=Ve[i]:e[s]={primary:t?Be(l[s],1,n):l[s],secondary:t?Be(l[s],.5,n):l[s]}}}function $l(l,e){let t=[],n=null,s=null;for(const i of l)e==="empty"&&i.class_or_confidence===null||e==="equal"&&s===i.class_or_confidence?n=n?n+i.token:i.token:(n!==null&&t.push({token:n,class_or_confidence:s}),n=i.token,s=i.class_or_confidence);return n!==null&&t.push({token:n,class_or_confidence:s}),t}const{SvelteComponent:pt,append:J,attr:H,destroy_each:$e,detach:I,element:F,empty:Sl,ensure_array_like:X,flush:me,init:kt,insert:B,listen:ce,noop:Me,run_all:vt,safe_not_equal:wt,set_data:Te,set_style:pe,space:ie,text:fe,toggle_class:W}=window.__gradio__svelte__internal,{createEventDispatcher:yt}=window.__gradio__svelte__internal;function qe(l,e,t){const n=l.slice();n[17]=e[t];const s=typeof n[17].class_or_confidence=="string"?parseInt(n[17].class_or_confidence):n[17].class_or_confidence;return n[26]=s,n}function Re(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function De(l,e,t){const n=l.slice();return n[20]=e[t],n[22]=t,n}function Ae(l,e,t){const n=l.slice();return n[23]=e[t][0],n[24]=e[t][1],n[19]=t,n}function jt(l){let e,t,n=l[1]&&Fe(),s=X(l[0]),i=[];for(let o=0;o<s.length;o+=1)i[o]=Ze(qe(l,s,o));return{c(){n&&n.c(),e=ie(),t=F("div");for(let o=0;o<i.length;o+=1)i[o].c();H(t,"class","textfield svelte-ju12zg"),H(t,"data-testid","highlighted-text:textfield")},m(o,a){n&&n.m(o,a),B(o,e,a),B(o,t,a);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(o,a){if(o[1]?n||(n=Fe(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a&1){s=X(o[0]);let r;for(r=0;r<s.length;r+=1){const f=qe(o,s,r);i[r]?i[r].p(f,a):(i[r]=Ze(f),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(o){o&&(I(e),I(t)),n&&n.d(o),$e(i,o)}}}function $t(l){let e,t,n=l[1]&&Ke(l),s=X(l[0]),i=[];for(let o=0;o<s.length;o+=1)i[o]=Qe(Re(l,s,o));return{c(){n&&n.c(),e=ie(),t=F("div");for(let o=0;o<i.length;o+=1)i[o].c();H(t,"class","textfield svelte-ju12zg")},m(o,a){n&&n.m(o,a),B(o,e,a),B(o,t,a);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(t,null)},p(o,a){if(o[1]?n?n.p(o,a):(n=Ke(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),a&111){s=X(o[0]);let r;for(r=0;r<s.length;r+=1){const f=Re(o,s,r);i[r]?i[r].p(f,a):(i[r]=Qe(f),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=s.length}},d(o){o&&(I(e),I(t)),n&&n.d(o),$e(i,o)}}}function Fe(l){let e;return{c(){e=F("div"),e.innerHTML="<span>-1</span> <span>0</span> <span>+1</span>",H(e,"class","color-legend svelte-ju12zg"),H(e,"data-testid","highlighted-text:color-legend")},m(t,n){B(t,e,n)},d(t){t&&I(e)}}}function Ze(l){let e,t,n=l[17].token+"",s,i,o;return{c(){e=F("span"),t=F("span"),s=fe(n),i=ie(),H(t,"class","text svelte-ju12zg"),H(e,"class","textspan score-text svelte-ju12zg"),H(e,"style",o="background-color: rgba("+(l[26]&&l[26]<0?"128, 90, 213,"+-l[26]:"239, 68, 60,"+l[26])+")")},m(a,r){B(a,e,r),J(e,t),J(t,s),J(e,i)},p(a,r){r&1&&n!==(n=a[17].token+"")&&Te(s,n),r&1&&o!==(o="background-color: rgba("+(a[26]&&a[26]<0?"128, 90, 213,"+-a[26]:"239, 68, 60,"+a[26])+")")&&H(e,"style",o)},d(a){a&&I(e)}}}function Ke(l){let e,t=X(Object.entries(l[5])),n=[];for(let s=0;s<t.length;s+=1)n[s]=Pe(Ae(l,t,s));return{c(){e=F("div");for(let s=0;s<n.length;s+=1)n[s].c();H(e,"class","category-legend svelte-ju12zg"),H(e,"data-testid","highlighted-text:category-legend")},m(s,i){B(s,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(s,i){if(i&416){t=X(Object.entries(s[5]));let o;for(o=0;o<t.length;o+=1){const a=Ae(s,t,o);n[o]?n[o].p(a,i):(n[o]=Pe(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),$e(n,s)}}}function Pe(l){let e,t=l[23]+"",n,s,i,o;function a(){return l[10](l[23])}function r(){return l[11](l[23])}return{c(){e=F("div"),n=fe(t),s=ie(),H(e,"class","category-label svelte-ju12zg"),H(e,"style","background-color:"+l[24].secondary)},m(f,c){B(f,e,c),J(e,n),J(e,s),i||(o=[ce(e,"mouseover",a),ce(e,"focus",r),ce(e,"mouseout",l[12]),ce(e,"blur",l[13])],i=!0)},p(f,c){l=f},d(f){f&&I(e),i=!1,vt(o)}}}function Ue(l){let e,t,n=l[20]+"",s,i,o,a,r=!l[1]&&l[17].class_or_confidence!==null&&Ye(l);function f(){return l[14](l[19],l[17])}return{c(){e=F("span"),t=F("span"),s=fe(n),i=ie(),r&&r.c(),H(t,"class","text svelte-ju12zg"),W(t,"no-label",l[17].class_or_confidence===null||!l[5][l[17].class_or_confidence]),H(e,"class","textspan svelte-ju12zg"),W(e,"no-cat",l[17].class_or_confidence===null||l[3]&&l[3]!==l[17].class_or_confidence),W(e,"hl",l[17].class_or_confidence!==null),W(e,"selectable",l[2]),pe(e,"background-color",l[17].class_or_confidence===null||l[3]&&l[3]!==l[17].class_or_confidence?"":l[5][l[17].class_or_confidence].secondary)},m(c,m){B(c,e,m),J(e,t),J(t,s),J(e,i),r&&r.m(e,null),o||(a=ce(e,"click",f),o=!0)},p(c,m){l=c,m&1&&n!==(n=l[20]+"")&&Te(s,n),m&33&&W(t,"no-label",l[17].class_or_confidence===null||!l[5][l[17].class_or_confidence]),!l[1]&&l[17].class_or_confidence!==null?r?r.p(l,m):(r=Ye(l),r.c(),r.m(e,null)):r&&(r.d(1),r=null),m&9&&W(e,"no-cat",l[17].class_or_confidence===null||l[3]&&l[3]!==l[17].class_or_confidence),m&1&&W(e,"hl",l[17].class_or_confidence!==null),m&4&&W(e,"selectable",l[2]),m&9&&pe(e,"background-color",l[17].class_or_confidence===null||l[3]&&l[3]!==l[17].class_or_confidence?"":l[5][l[17].class_or_confidence].secondary)},d(c){c&&I(e),r&&r.d(),o=!1,a()}}}function Ye(l){let e,t,n=l[17].class_or_confidence+"",s;return{c(){e=fe(`Â 
								`),t=F("span"),s=fe(n),H(t,"class","label svelte-ju12zg"),pe(t,"background-color",l[17].class_or_confidence===null||l[3]&&l[3]!==l[17].class_or_confidence?"":l[5][l[17].class_or_confidence].primary)},m(i,o){B(i,e,o),B(i,t,o),J(t,s)},p(i,o){o&1&&n!==(n=i[17].class_or_confidence+"")&&Te(s,n),o&9&&pe(t,"background-color",i[17].class_or_confidence===null||i[3]&&i[3]!==i[17].class_or_confidence?"":i[5][i[17].class_or_confidence].primary)},d(i){i&&(I(e),I(t))}}}function Ge(l){let e;return{c(){e=F("br")},m(t,n){B(t,e,n)},d(t){t&&I(e)}}}function Je(l){let e=l[20].trim()!=="",t,n=l[22]<ke(l[17].token).length-1,s,i=e&&Ue(l),o=n&&Ge();return{c(){i&&i.c(),t=ie(),o&&o.c(),s=Sl()},m(a,r){i&&i.m(a,r),B(a,t,r),o&&o.m(a,r),B(a,s,r)},p(a,r){r&1&&(e=a[20].trim()!==""),e?i?i.p(a,r):(i=Ue(a),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),r&1&&(n=a[22]<ke(a[17].token).length-1),n?o||(o=Ge(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(a){a&&(I(t),I(s)),i&&i.d(a),o&&o.d(a)}}}function Qe(l){let e,t=X(ke(l[17].token)),n=[];for(let s=0;s<t.length;s+=1)n[s]=Je(De(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Sl()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);B(s,e,i)},p(s,i){if(i&111){t=X(ke(s[17].token));let o;for(o=0;o<t.length;o+=1){const a=De(s,t,o);n[o]?n[o].p(a,i):(n[o]=Je(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&I(e),$e(n,s)}}}function St(l){let e;function t(i,o){return i[4]==="categories"?$t:jt}let n=t(l),s=n(l);return{c(){e=F("div"),s.c(),H(e,"class","container svelte-ju12zg")},m(i,o){B(i,e,o),s.m(e,null)},p(i,[o]){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e,null)))},i:Me,o:Me,d(i){i&&I(e),s.d()}}}function ke(l){return l.split(`
`)}function zt(l,e,t){const n=typeof document<"u";let{value:s=[]}=e,{show_legend:i=!1}=e,{color_map:o={}}=e,{selectable:a=!1}=e,r,f={},c="";const m=yt();let k;function b(p){t(3,c=p)}function u(){t(3,c="")}const d=p=>b(p),w=p=>b(p),S=()=>u(),y=()=>u(),h=(p,j)=>{m("select",{index:p,value:[j.token,j.class_or_confidence]})};return l.$$set=p=>{"value"in p&&t(0,s=p.value),"show_legend"in p&&t(1,i=p.show_legend),"color_map"in p&&t(9,o=p.color_map),"selectable"in p&&t(2,a=p.selectable)},l.$$.update=()=>{if(l.$$.dirty&513){if(o||t(9,o={}),s.length>0){for(let p of s)if(p.class_or_confidence!==null)if(typeof p.class_or_confidence=="string"){if(t(4,k="categories"),!(p.class_or_confidence in o)){let j=pl(Object.keys(o).length);t(9,o[p.class_or_confidence]=j,o)}}else t(4,k="scores")}jl(o,f,n,r)}},[s,i,a,c,k,f,m,b,u,o,d,w,S,y,h]}class Et extends pt{constructor(e){super(),kt(this,e,zt,St,wt,{value:0,show_legend:1,color_map:9,selectable:2})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),me()}get show_legend(){return this.$$.ctx[1]}set show_legend(e){this.$$set({show_legend:e}),me()}get color_map(){return this.$$.ctx[9]}set color_map(e){this.$$set({color_map:e}),me()}get selectable(){return this.$$.ctx[2]}set selectable(e){this.$$set({selectable:e}),me()}}const Ct=Et;const{SvelteComponent:Tt,attr:U,detach:Ne,element:zl,empty:Nt,flush:G,init:Ot,insert:Oe,listen:ee,noop:We,run_all:El,safe_not_equal:Ht,set_style:se}=window.__gradio__svelte__internal;function Lt(l){let e,t,n,s;return{c(){e=zl("input"),U(e,"class","label-input svelte-1cag2po"),e.autofocus=!0,U(e,"type","number"),U(e,"step","0.1"),U(e,"style",t="background-color: rgba("+(typeof l[1]=="number"&&l[1]<0?"128, 90, 213,"+-l[1]:"239, 68, 60,"+l[1])+")"),e.value=l[1],se(e,"width","7ch")},m(i,o){Oe(i,e,o),e.focus(),n||(s=[ee(e,"input",l[8]),ee(e,"blur",l[14]),ee(e,"keydown",l[15])],n=!0)},p(i,o){o&2&&t!==(t="background-color: rgba("+(typeof i[1]=="number"&&i[1]<0?"128, 90, 213,"+-i[1]:"239, 68, 60,"+i[1])+")")&&U(e,"style",t),o&2&&e.value!==i[1]&&(e.value=i[1]);const a=o&2;(o&2||a)&&se(e,"width","7ch")},d(i){i&&Ne(e),n=!1,El(s)}}}function Vt(l){let e,t,n,s;return{c(){e=zl("input"),U(e,"class","label-input svelte-1cag2po"),e.autofocus=!0,U(e,"id",t=`label-input-${l[3]}`),U(e,"type","text"),U(e,"placeholder","label"),e.value=l[1],se(e,"background-color",l[1]===null||l[2]&&l[2]!==l[1]?"":l[6][l[1]].primary),se(e,"width",l[7]?l[7].toString()?.length+4+"ch":"8ch")},m(i,o){Oe(i,e,o),e.focus(),n||(s=[ee(e,"input",l[8]),ee(e,"blur",l[12]),ee(e,"keydown",l[13]),ee(e,"focus",Bt)],n=!0)},p(i,o){o&8&&t!==(t=`label-input-${i[3]}`)&&U(e,"id",t),o&2&&e.value!==i[1]&&(e.value=i[1]),o&70&&se(e,"background-color",i[1]===null||i[2]&&i[2]!==i[1]?"":i[6][i[1]].primary),o&128&&se(e,"width",i[7]?i[7].toString()?.length+4+"ch":"8ch")},d(i){i&&Ne(e),n=!1,El(s)}}}function It(l){let e;function t(i,o){return i[5]?Lt:Vt}let n=t(l),s=n(l);return{c(){s.c(),e=Nt()},m(i,o){s.m(i,o),Oe(i,e,o)},p(i,[o]){n===(n=t(i))&&s?s.p(i,o):(s.d(1),s=n(i),s&&(s.c(),s.m(e.parentNode,e)))},i:We,o:We,d(i){i&&Ne(e),s.d(i)}}}function Bt(l){let e=l.target;e&&e.placeholder&&(e.placeholder="")}function Mt(l,e,t){let{value:n}=e,{category:s}=e,{active:i}=e,{labelToEdit:o}=e,{indexOfLabel:a}=e,{text:r}=e,{handleValueChange:f}=e,{isScoresMode:c=!1}=e,{_color_map:m}=e,k=s;function b(h){let p=h.target;p&&t(7,k=p.value)}function u(h,p,j){let g=h.target;t(10,n=[...n.slice(0,p),{token:j,class_or_confidence:g.value===""?null:c?Number(g.value):g.value},...n.slice(p+1)]),f()}const d=h=>u(h,a,r),w=h=>{h.key==="Enter"&&(u(h,a,r),t(0,o=-1))},S=h=>u(h,a,r),y=h=>{h.key==="Enter"&&(u(h,a,r),t(0,o=-1))};return l.$$set=h=>{"value"in h&&t(10,n=h.value),"category"in h&&t(1,s=h.category),"active"in h&&t(2,i=h.active),"labelToEdit"in h&&t(0,o=h.labelToEdit),"indexOfLabel"in h&&t(3,a=h.indexOfLabel),"text"in h&&t(4,r=h.text),"handleValueChange"in h&&t(11,f=h.handleValueChange),"isScoresMode"in h&&t(5,c=h.isScoresMode),"_color_map"in h&&t(6,m=h._color_map)},[o,s,i,a,r,c,m,k,b,u,n,f,d,w,S,y]}class Cl extends Tt{constructor(e){super(),Ot(this,e,Mt,It,Ht,{value:10,category:1,active:2,labelToEdit:0,indexOfLabel:3,text:4,handleValueChange:11,isScoresMode:5,_color_map:6})}get value(){return this.$$.ctx[10]}set value(e){this.$$set({value:e}),G()}get category(){return this.$$.ctx[1]}set category(e){this.$$set({category:e}),G()}get active(){return this.$$.ctx[2]}set active(e){this.$$set({active:e}),G()}get labelToEdit(){return this.$$.ctx[0]}set labelToEdit(e){this.$$set({labelToEdit:e}),G()}get indexOfLabel(){return this.$$.ctx[3]}set indexOfLabel(e){this.$$set({indexOfLabel:e}),G()}get text(){return this.$$.ctx[4]}set text(e){this.$$set({text:e}),G()}get handleValueChange(){return this.$$.ctx[11]}set handleValueChange(e){this.$$set({handleValueChange:e}),G()}get isScoresMode(){return this.$$.ctx[5]}set isScoresMode(e){this.$$set({isScoresMode:e}),G()}get _color_map(){return this.$$.ctx[6]}set _color_map(e){this.$$set({_color_map:e}),G()}}const{SvelteComponent:qt,add_flush_callback:Tl,append:R,attr:v,bind:Nl,binding_callbacks:Ol,check_outros:ne,create_component:Hl,destroy_component:Ll,destroy_each:Se,detach:N,element:V,empty:He,ensure_array_like:x,flush:be,group_outros:oe,init:Rt,insert:O,listen:z,mount_component:Vl,run_all:re,safe_not_equal:Dt,set_data:ze,set_style:ve,space:Y,text:de,toggle_class:A,transition_in:C,transition_out:M}=window.__gradio__svelte__internal,{createEventDispatcher:At,onMount:Ft}=window.__gradio__svelte__internal;function Xe(l,e,t){const n=l.slice();n[45]=e[t].token,n[46]=e[t].class_or_confidence,n[48]=t;const s=typeof n[46]=="string"?parseInt(n[46]):n[46];return n[54]=s,n}function xe(l,e,t){const n=l.slice();return n[45]=e[t].token,n[46]=e[t].class_or_confidence,n[48]=t,n}function el(l,e,t){const n=l.slice();return n[49]=e[t],n[51]=t,n}function ll(l,e,t){const n=l.slice();return n[46]=e[t][0],n[52]=e[t][1],n[48]=t,n}function Zt(l){let e,t,n,s=l[1]&&tl(),i=x(l[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=sl(Xe(l,i,r));const a=r=>M(o[r],1,1,()=>{o[r]=null});return{c(){s&&s.c(),e=Y(),t=V("div");for(let r=0;r<o.length;r+=1)o[r].c();v(t,"class","textfield svelte-1ozsnjl"),v(t,"data-testid","highlighted-text:textfield")},m(r,f){s&&s.m(r,f),O(r,e,f),O(r,t,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);n=!0},p(r,f){if(r[1]?s||(s=tl(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),f[0]&889){i=x(r[0]);let c;for(c=0;c<i.length;c+=1){const m=Xe(r,i,c);o[c]?(o[c].p(m,f),C(o[c],1)):(o[c]=sl(m),o[c].c(),C(o[c],1),o[c].m(t,null))}for(oe(),c=i.length;c<o.length;c+=1)a(c);ne()}},i(r){if(!n){for(let f=0;f<i.length;f+=1)C(o[f]);n=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)M(o[f]);n=!1},d(r){r&&(N(e),N(t)),s&&s.d(r),Se(o,r)}}}function Kt(l){let e,t,n,s=l[1]&&il(l),i=x(l[0]),o=[];for(let r=0;r<i.length;r+=1)o[r]=gl(xe(l,i,r));const a=r=>M(o[r],1,1,()=>{o[r]=null});return{c(){s&&s.c(),e=Y(),t=V("div");for(let r=0;r<o.length;r+=1)o[r].c();v(t,"class","textfield svelte-1ozsnjl")},m(r,f){s&&s.m(r,f),O(r,e,f),O(r,t,f);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);n=!0},p(r,f){if(r[1]?s?s.p(r,f):(s=il(r),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),f[0]&13183){i=x(r[0]);let c;for(c=0;c<i.length;c+=1){const m=xe(r,i,c);o[c]?(o[c].p(m,f),C(o[c],1)):(o[c]=gl(m),o[c].c(),C(o[c],1),o[c].m(t,null))}for(oe(),c=i.length;c<o.length;c+=1)a(c);ne()}},i(r){if(!n){for(let f=0;f<i.length;f+=1)C(o[f]);n=!0}},o(r){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)M(o[f]);n=!1},d(r){r&&(N(e),N(t)),s&&s.d(r),Se(o,r)}}}function tl(l){let e;return{c(){e=V("div"),e.innerHTML="<span>-1</span> <span>0</span> <span>+1</span>",v(e,"class","color-legend svelte-1ozsnjl"),v(e,"data-testid","highlighted-text:color-legend")},m(t,n){O(t,e,n)},d(t){t&&N(e)}}}function nl(l){let e,t,n;function s(o){l[32](o)}let i={labelToEdit:l[6],_color_map:l[3],category:l[46],active:l[5],indexOfLabel:l[48],text:l[45],handleValueChange:l[9],isScoresMode:!0};return l[0]!==void 0&&(i.value=l[0]),e=new Cl({props:i}),Ol.push(()=>Nl(e,"value",s)),{c(){Hl(e.$$.fragment)},m(o,a){Vl(e,o,a),n=!0},p(o,a){const r={};a[0]&64&&(r.labelToEdit=o[6]),a[0]&8&&(r._color_map=o[3]),a[0]&1&&(r.category=o[46]),a[0]&32&&(r.active=o[5]),a[0]&1&&(r.text=o[45]),!t&&a[0]&1&&(t=!0,r.value=o[0],Tl(()=>t=!1)),e.$set(r)},i(o){n||(C(e.$$.fragment,o),n=!0)},o(o){M(e.$$.fragment,o),n=!1},d(o){Ll(e,o)}}}function ol(l){let e,t,n;function s(){return l[37](l[48])}function i(...o){return l[38](l[48],...o)}return{c(){e=V("span"),e.textContent="Ã",v(e,"class","label-clear-button svelte-1ozsnjl"),v(e,"role","button"),v(e,"aria-roledescription","Remove label from text"),v(e,"tabindex","0")},m(o,a){O(o,e,a),t||(n=[z(e,"click",s),z(e,"keydown",i)],t=!0)},p(o,a){l=o},d(o){o&&N(e),t=!1,re(n)}}}function sl(l){let e,t,n,s=l[45]+"",i,o,a,r,f,c,m,k,b=l[46]&&l[6]===l[48]&&nl(l);function u(){return l[33](l[48])}function d(){return l[34](l[48])}function w(){return l[35](l[48])}function S(...h){return l[36](l[48],...h)}let y=l[46]&&l[4]===l[48]&&ol(l);return{c(){e=V("span"),t=V("span"),n=V("span"),i=de(s),o=Y(),b&&b.c(),r=Y(),y&&y.c(),f=Y(),v(n,"class","text svelte-1ozsnjl"),v(t,"class","textspan score-text svelte-1ozsnjl"),v(t,"role","button"),v(t,"tabindex","0"),v(t,"style",a="background-color: rgba("+(l[54]&&l[54]<0?"128, 90, 213,"+-l[54]:"239, 68, 60,"+l[54])+")"),A(t,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),A(t,"hl",l[46]!==null),v(e,"class","score-text-container svelte-1ozsnjl")},m(h,p){O(h,e,p),R(e,t),R(t,n),R(n,i),R(t,o),b&&b.m(t,null),R(e,r),y&&y.m(e,null),R(e,f),c=!0,m||(k=[z(t,"mouseover",u),z(t,"focus",d),z(t,"click",w),z(t,"keydown",S)],m=!0)},p(h,p){l=h,(!c||p[0]&1)&&s!==(s=l[45]+"")&&ze(i,s),l[46]&&l[6]===l[48]?b?(b.p(l,p),p[0]&65&&C(b,1)):(b=nl(l),b.c(),C(b,1),b.m(t,null)):b&&(oe(),M(b,1,1,()=>{b=null}),ne()),(!c||p[0]&1&&a!==(a="background-color: rgba("+(l[54]&&l[54]<0?"128, 90, 213,"+-l[54]:"239, 68, 60,"+l[54])+")"))&&v(t,"style",a),(!c||p[0]&33)&&A(t,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),(!c||p[0]&1)&&A(t,"hl",l[46]!==null),l[46]&&l[4]===l[48]?y?y.p(l,p):(y=ol(l),y.c(),y.m(e,f)):y&&(y.d(1),y=null)},i(h){c||(C(b),c=!0)},o(h){M(b),c=!1},d(h){h&&N(e),b&&b.d(),y&&y.d(),m=!1,re(k)}}}function il(l){let e,t=l[3]&&rl(l);return{c(){e=V("div"),t&&t.c(),v(e,"class","class_or_confidence-legend svelte-1ozsnjl"),v(e,"data-testid","highlighted-text:class_or_confidence-legend")},m(n,s){O(n,e,s),t&&t.m(e,null)},p(n,s){n[3]?t?t.p(n,s):(t=rl(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(n){n&&N(e),t&&t.d()}}}function rl(l){let e,t=x(Object.entries(l[3])),n=[];for(let s=0;s<t.length;s+=1)n[s]=al(ll(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=He()},m(s,i){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,i);O(s,e,i)},p(s,i){if(i[0]&3080){t=x(Object.entries(s[3]));let o;for(o=0;o<t.length;o+=1){const a=ll(s,t,o);n[o]?n[o].p(a,i):(n[o]=al(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&N(e),Se(n,s)}}}function al(l){let e,t=l[46]+"",n,s,i,o,a;function r(){return l[15](l[46])}function f(){return l[16](l[46])}return{c(){e=V("div"),n=de(t),s=Y(),v(e,"role","button"),v(e,"aria-roledescription","Categories of highlighted text. Hover to see text with this class_or_confidence highlighted."),v(e,"tabindex","0"),v(e,"class","class_or_confidence-label svelte-1ozsnjl"),v(e,"style",i="background-color:"+l[52].secondary)},m(c,m){O(c,e,m),R(e,n),R(e,s),o||(a=[z(e,"mouseover",r),z(e,"focus",f),z(e,"mouseout",l[17]),z(e,"blur",l[18])],o=!0)},p(c,m){l=c,m[0]&8&&t!==(t=l[46]+"")&&ze(n,t),m[0]&8&&i!==(i="background-color:"+l[52].secondary)&&v(e,"style",i)},d(c){c&&N(e),o=!1,re(a)}}}function cl(l){let e,t,n,s=l[49]+"",i,o,a,r,f,c,m;function k(){return l[20](l[48])}function b(){return l[21](l[48])}function u(){return l[22](l[48])}let d=!l[1]&&l[46]!==null&&l[6]!==l[48]&&fl(l),w=l[6]===l[48]&&l[46]!==null&&ul(l);function S(){return l[26](l[46],l[48],l[45])}function y(...g){return l[27](l[46],l[48],l[45],...g)}function h(){return l[28](l[48])}function p(){return l[29](l[48])}let j=l[46]!==null&&_l(l);return{c(){e=V("span"),t=V("span"),n=V("span"),i=de(s),o=Y(),d&&d.c(),a=Y(),w&&w.c(),r=Y(),j&&j.c(),v(n,"class","text svelte-1ozsnjl"),v(n,"role","button"),v(n,"tabindex","0"),A(n,"no-label",l[46]===null),v(t,"role","button"),v(t,"tabindex","0"),v(t,"class","textspan svelte-1ozsnjl"),A(t,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),A(t,"hl",l[46]!==null),A(t,"selectable",l[2]),ve(t,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[46]&&l[3][l[46]]?l[3][l[46]].secondary:""),v(e,"class","text-class_or_confidence-container svelte-1ozsnjl")},m(g,L){O(g,e,L),R(e,t),R(t,n),R(n,i),R(t,o),d&&d.m(t,null),R(t,a),w&&w.m(t,null),R(e,r),j&&j.m(e,null),f=!0,c||(m=[z(n,"keydown",l[19]),z(n,"focus",k),z(n,"mouseover",b),z(n,"click",u),z(t,"click",S),z(t,"keydown",y),z(t,"focus",h),z(t,"mouseover",p)],c=!0)},p(g,L){l=g,(!f||L[0]&1)&&s!==(s=l[49]+"")&&ze(i,s),(!f||L[0]&1)&&A(n,"no-label",l[46]===null),!l[1]&&l[46]!==null&&l[6]!==l[48]?d?d.p(l,L):(d=fl(l),d.c(),d.m(t,a)):d&&(d.d(1),d=null),l[6]===l[48]&&l[46]!==null?w?(w.p(l,L),L[0]&65&&C(w,1)):(w=ul(l),w.c(),C(w,1),w.m(t,null)):w&&(oe(),M(w,1,1,()=>{w=null}),ne()),(!f||L[0]&33)&&A(t,"no-cat",l[46]===null||l[5]&&l[5]!==l[46]),(!f||L[0]&1)&&A(t,"hl",l[46]!==null),(!f||L[0]&4)&&A(t,"selectable",l[2]),L[0]&41&&ve(t,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[46]&&l[3][l[46]]?l[3][l[46]].secondary:""),l[46]!==null?j?j.p(l,L):(j=_l(l),j.c(),j.m(e,null)):j&&(j.d(1),j=null)},i(g){f||(C(w),f=!0)},o(g){M(w),f=!1},d(g){g&&N(e),d&&d.d(),w&&w.d(),j&&j.d(),c=!1,re(m)}}}function fl(l){let e,t=l[46]+"",n,s,i;function o(){return l[23](l[48])}function a(){return l[24](l[48])}return{c(){e=V("span"),n=de(t),v(e,"id",`label-tag-${l[48]}`),v(e,"class","label svelte-1ozsnjl"),v(e,"role","button"),v(e,"tabindex","0"),ve(e,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[3][l[46]].primary)},m(r,f){O(r,e,f),R(e,n),s||(i=[z(e,"click",o),z(e,"keydown",a)],s=!0)},p(r,f){l=r,f[0]&1&&t!==(t=l[46]+"")&&ze(n,t),f[0]&41&&ve(e,"background-color",l[46]===null||l[5]&&l[5]!==l[46]?"":l[3][l[46]].primary)},d(r){r&&N(e),s=!1,re(i)}}}function ul(l){let e,t,n,s;function i(a){l[25](a)}let o={labelToEdit:l[6],category:l[46],active:l[5],_color_map:l[3],indexOfLabel:l[48],text:l[45],handleValueChange:l[9]};return l[0]!==void 0&&(o.value=l[0]),t=new Cl({props:o}),Ol.push(()=>Nl(t,"value",i)),{c(){e=de(`Â 
									`),Hl(t.$$.fragment)},m(a,r){O(a,e,r),Vl(t,a,r),s=!0},p(a,r){const f={};r[0]&64&&(f.labelToEdit=a[6]),r[0]&1&&(f.category=a[46]),r[0]&32&&(f.active=a[5]),r[0]&8&&(f._color_map=a[3]),r[0]&1&&(f.text=a[45]),!n&&r[0]&1&&(n=!0,f.value=a[0],Tl(()=>n=!1)),t.$set(f)},i(a){s||(C(t.$$.fragment,a),s=!0)},o(a){M(t.$$.fragment,a),s=!1},d(a){a&&N(e),Ll(t,a)}}}function _l(l){let e,t,n;function s(){return l[30](l[48])}function i(...o){return l[31](l[48],...o)}return{c(){e=V("span"),e.textContent="Ã",v(e,"class","label-clear-button svelte-1ozsnjl"),v(e,"role","button"),v(e,"aria-roledescription","Remove label from text"),v(e,"tabindex","0")},m(o,a){O(o,e,a),t||(n=[z(e,"click",s),z(e,"keydown",i)],t=!0)},p(o,a){l=o},d(o){o&&N(e),t=!1,re(n)}}}function dl(l){let e;return{c(){e=V("br")},m(t,n){O(t,e,n)},d(t){t&&N(e)}}}function hl(l){let e=l[49].trim()!=="",t,n=l[51]<we(l[45]).length-1,s,i,o=e&&cl(l),a=n&&dl();return{c(){o&&o.c(),t=Y(),a&&a.c(),s=He()},m(r,f){o&&o.m(r,f),O(r,t,f),a&&a.m(r,f),O(r,s,f),i=!0},p(r,f){f[0]&1&&(e=r[49].trim()!==""),e?o?(o.p(r,f),f[0]&1&&C(o,1)):(o=cl(r),o.c(),C(o,1),o.m(t.parentNode,t)):o&&(oe(),M(o,1,1,()=>{o=null}),ne()),f[0]&1&&(n=r[51]<we(r[45]).length-1),n?a||(a=dl(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(r){i||(C(o),i=!0)},o(r){M(o),i=!1},d(r){r&&(N(t),N(s)),o&&o.d(r),a&&a.d(r)}}}function gl(l){let e,t,n=x(we(l[45])),s=[];for(let o=0;o<n.length;o+=1)s[o]=hl(el(l,n,o));const i=o=>M(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=He()},m(o,a){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,a);O(o,e,a),t=!0},p(o,a){if(a[0]&13183){n=x(we(o[45]));let r;for(r=0;r<n.length;r+=1){const f=el(o,n,r);s[r]?(s[r].p(f,a),C(s[r],1)):(s[r]=hl(f),s[r].c(),C(s[r],1),s[r].m(e.parentNode,e))}for(oe(),r=n.length;r<s.length;r+=1)i(r);ne()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)C(s[a]);t=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)M(s[a]);t=!1},d(o){o&&N(e),Se(s,o)}}}function Pt(l){let e,t,n,s;const i=[Kt,Zt],o=[];function a(r,f){return r[7]==="categories"?0:1}return t=a(l),n=o[t]=i[t](l),{c(){e=V("div"),n.c(),v(e,"class","container svelte-1ozsnjl")},m(r,f){O(r,e,f),o[t].m(e,null),s=!0},p(r,f){let c=t;t=a(r),t===c?o[t].p(r,f):(oe(),M(o[c],1,1,()=>{o[c]=null}),ne(),n=o[t],n?n.p(r,f):(n=o[t]=i[t](r),n.c()),C(n,1),n.m(e,null))},i(r){s||(C(n),s=!0)},o(r){M(n),s=!1},d(r){r&&N(e),o[t].d()}}}function we(l){return l.split(`
`)}function Ut(l,e,t){const n=typeof document<"u";let{value:s=[]}=e,{show_legend:i=!1}=e,{color_map:o={}}=e,{selectable:a=!1}=e,r=-1,f,c={},m="",k,b=-1;Ft(()=>{const _=()=>{k=window.getSelection(),g(),window.removeEventListener("mouseup",_)};window.addEventListener("mousedown",()=>{window.addEventListener("mouseup",_)})});async function u(_,T){if(k?.toString()&&r!==-1&&s[r].token.toString().includes(k.toString())){const Q=Symbol(),ae=s[r].token,[at,ct,ft]=[ae.substring(0,_),ae.substring(_,T),ae.substring(T)];let he=[...s.slice(0,r),{token:at,class_or_confidence:null},{token:ct,class_or_confidence:y==="scores"?1:"label",flag:Q},{token:ft,class_or_confidence:null},...s.slice(r+1)];t(6,b=he.findIndex(({flag:ge})=>ge===Q)),he=he.filter(ge=>ge.token.trim()!==""),t(0,s=he.map(({flag:ge,...ut})=>ut)),S(),document.getElementById(`label-input-${b}`)?.focus()}}const d=At();function w(_){!s||_<0||_>=s.length||(t(0,s[_].class_or_confidence=null,s),t(0,s=$l(s,"equal")),S(),window.getSelection()?.empty())}function S(){d("change",s),t(6,b=-1),i&&(t(14,o={}),t(3,c={}))}let y;function h(_){t(5,m=_)}function p(){t(5,m="")}async function j(_){k=window.getSelection(),_.key==="Enter"&&g()}function g(){if(k&&k?.toString().trim()!==""){const _=k.getRangeAt(0).startOffset,T=k.getRangeAt(0).endOffset;u(_,T)}}function L(_,T,Q){d("select",{index:_,value:[T,Q]})}const ql=_=>h(_),Rl=_=>h(_),Dl=()=>p(),Al=()=>p(),Fl=_=>j(_),Zl=_=>t(4,r=_),Kl=_=>t(4,r=_),Pl=_=>t(6,b=_),Ul=_=>t(6,b=_),Yl=_=>t(6,b=_);function Gl(_){s=_,t(0,s)}const Jl=(_,T,Q)=>{_!==null&&L(T,Q,_)},Ql=(_,T,Q,ae)=>{_!==null?(t(6,b=T),L(T,Q,_)):j(ae)},Wl=_=>t(4,r=_),Xl=_=>t(4,r=_),xl=_=>w(_),et=(_,T)=>{T.key==="Enter"&&w(_)};function lt(_){s=_,t(0,s)}const tt=_=>t(4,r=_),nt=_=>t(4,r=_),ot=_=>t(6,b=_),st=(_,T)=>{T.key==="Enter"&&t(6,b=_)},it=_=>w(_),rt=(_,T)=>{T.key==="Enter"&&w(_)};return l.$$set=_=>{"value"in _&&t(0,s=_.value),"show_legend"in _&&t(1,i=_.show_legend),"color_map"in _&&t(14,o=_.color_map),"selectable"in _&&t(2,a=_.selectable)},l.$$.update=()=>{if(l.$$.dirty[0]&16393){if(o||t(14,o={}),s.length>0){for(let _ of s)if(_.class_or_confidence!==null)if(typeof _.class_or_confidence=="string"){if(t(7,y="categories"),!(_.class_or_confidence in o)){let T=pl(Object.keys(o).length);t(14,o[_.class_or_confidence]=T,o)}}else t(7,y="scores")}jl(o,c,n,f)}},[s,i,a,c,r,m,b,y,w,S,h,p,j,L,o,ql,Rl,Dl,Al,Fl,Zl,Kl,Pl,Ul,Yl,Gl,Jl,Ql,Wl,Xl,xl,et,lt,tt,nt,ot,st,it,rt]}class Yt extends qt{constructor(e){super(),Rt(this,e,Ut,Pt,Dt,{value:0,show_legend:1,color_map:14,selectable:2},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),be()}get show_legend(){return this.$$.ctx[1]}set show_legend(e){this.$$set({show_legend:e}),be()}get color_map(){return this.$$.ctx[14]}set color_map(e){this.$$set({color_map:e}),be()}get selectable(){return this.$$.ctx[2]}set selectable(e){this.$$set({selectable:e}),be()}}const Gt=Yt,{SvelteComponent:Jt,add_flush_callback:Qt,assign:Il,bind:Wt,binding_callbacks:Xt,check_outros:ue,create_component:Z,destroy_component:K,detach:le,empty:Le,flush:q,get_spread_object:Bl,get_spread_update:Ml,group_outros:_e,init:xt,insert:te,mount_component:P,safe_not_equal:en,space:ye,transition_in:$,transition_out:E}=window.__gradio__svelte__internal;function ln(l){let e,t;return e=new kl({props:{variant:l[12]?"dashed":"solid",test_id:"highlighted-text",visible:l[5],elem_id:l[3],elem_classes:l[4],padding:!1,container:l[8],scale:l[9],min_width:l[10],$$slots:{default:[rn]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},p(n,s){const i={};s&4096&&(i.variant=n[12]?"dashed":"solid"),s&32&&(i.visible=n[5]),s&8&&(i.elem_id=n[3]),s&16&&(i.elem_classes=n[4]),s&256&&(i.container=n[8]),s&512&&(i.scale=n[9]),s&1024&&(i.min_width=n[10]),s&534983&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function tn(l){let e,t;return e=new kl({props:{variant:"solid",test_id:"highlighted-text",visible:l[5],elem_id:l[3],elem_classes:l[4],padding:!1,container:l[8],scale:l[9],min_width:l[10],$$slots:{default:[un]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},p(n,s){const i={};s&32&&(i.visible=n[5]),s&8&&(i.elem_id=n[3]),s&16&&(i.elem_classes=n[4]),s&256&&(i.container=n[8]),s&512&&(i.scale=n[9]),s&1024&&(i.min_width=n[10]),s&534983&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function ml(l){let e,t;return e=new vl({props:{Icon:je,label:l[7],float:!1,disable:l[8]===!1}}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},p(n,s){const i={};s&128&&(i.label=n[7]),s&256&&(i.disable=n[8]===!1),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function nn(l){let e,t;return e=new wl({props:{$$slots:{default:[sn]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},p(n,s){const i={};s&524288&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function on(l){let e,t,n;function s(o){l[17](o)}let i={selectable:l[11],show_legend:l[6],color_map:l[1]};return l[0]!==void 0&&(i.value=l[0]),e=new Gt({props:i}),Xt.push(()=>Wt(e,"value",s)),e.$on("change",l[18]),{c(){Z(e.$$.fragment)},m(o,a){P(e,o,a),n=!0},p(o,a){const r={};a&2048&&(r.selectable=o[11]),a&64&&(r.show_legend=o[6]),a&2&&(r.color_map=o[1]),!t&&a&1&&(t=!0,r.value=o[0],Qt(()=>t=!1)),e.$set(r)},i(o){n||($(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function sn(l){let e,t;return e=new je({}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function rn(l){let e,t,n,s,i,o,a;const r=[{autoscroll:l[2].autoscroll},l[13],{i18n:l[2].i18n}];let f={};for(let u=0;u<r.length;u+=1)f=Il(f,r[u]);e=new yl({props:f});let c=l[7]&&ml(l);const m=[on,nn],k=[];function b(u,d){return u[0]?0:1}return s=b(l),i=k[s]=m[s](l),{c(){Z(e.$$.fragment),t=ye(),c&&c.c(),n=ye(),i.c(),o=Le()},m(u,d){P(e,u,d),te(u,t,d),c&&c.m(u,d),te(u,n,d),k[s].m(u,d),te(u,o,d),a=!0},p(u,d){const w=d&8196?Ml(r,[d&4&&{autoscroll:u[2].autoscroll},d&8192&&Bl(u[13]),d&4&&{i18n:u[2].i18n}]):{};e.$set(w),u[7]?c?(c.p(u,d),d&128&&$(c,1)):(c=ml(u),c.c(),$(c,1),c.m(n.parentNode,n)):c&&(_e(),E(c,1,1,()=>{c=null}),ue());let S=s;s=b(u),s===S?k[s].p(u,d):(_e(),E(k[S],1,1,()=>{k[S]=null}),ue(),i=k[s],i?i.p(u,d):(i=k[s]=m[s](u),i.c()),$(i,1),i.m(o.parentNode,o))},i(u){a||($(e.$$.fragment,u),$(c),$(i),a=!0)},o(u){E(e.$$.fragment,u),E(c),E(i),a=!1},d(u){u&&(le(t),le(n),le(o)),K(e,u),c&&c.d(u),k[s].d(u)}}}function bl(l){let e,t;return e=new vl({props:{Icon:je,label:l[7],float:!1,disable:l[8]===!1}}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},p(n,s){const i={};s&128&&(i.label=n[7]),s&256&&(i.disable=n[8]===!1),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function an(l){let e,t;return e=new wl({props:{$$slots:{default:[fn]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},p(n,s){const i={};s&524288&&(i.$$scope={dirty:s,ctx:n}),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function cn(l){let e,t;return e=new Ct({props:{selectable:l[11],value:l[0],show_legend:l[6],color_map:l[1]}}),e.$on("select",l[16]),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},p(n,s){const i={};s&2048&&(i.selectable=n[11]),s&1&&(i.value=n[0]),s&64&&(i.show_legend=n[6]),s&2&&(i.color_map=n[1]),e.$set(i)},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function fn(l){let e,t;return e=new je({}),{c(){Z(e.$$.fragment)},m(n,s){P(e,n,s),t=!0},i(n){t||($(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){K(e,n)}}}function un(l){let e,t,n,s,i,o,a;const r=[{autoscroll:l[2].autoscroll},{i18n:l[2].i18n},l[13]];let f={};for(let u=0;u<r.length;u+=1)f=Il(f,r[u]);e=new yl({props:f});let c=l[7]&&bl(l);const m=[cn,an],k=[];function b(u,d){return u[0]?0:1}return s=b(l),i=k[s]=m[s](l),{c(){Z(e.$$.fragment),t=ye(),c&&c.c(),n=ye(),i.c(),o=Le()},m(u,d){P(e,u,d),te(u,t,d),c&&c.m(u,d),te(u,n,d),k[s].m(u,d),te(u,o,d),a=!0},p(u,d){const w=d&8196?Ml(r,[d&4&&{autoscroll:u[2].autoscroll},d&4&&{i18n:u[2].i18n},d&8192&&Bl(u[13])]):{};e.$set(w),u[7]?c?(c.p(u,d),d&128&&$(c,1)):(c=bl(u),c.c(),$(c,1),c.m(n.parentNode,n)):c&&(_e(),E(c,1,1,()=>{c=null}),ue());let S=s;s=b(u),s===S?k[s].p(u,d):(_e(),E(k[S],1,1,()=>{k[S]=null}),ue(),i=k[s],i?i.p(u,d):(i=k[s]=m[s](u),i.c()),$(i,1),i.m(o.parentNode,o))},i(u){a||($(e.$$.fragment,u),$(c),$(i),a=!0)},o(u){E(e.$$.fragment,u),E(c),E(i),a=!1},d(u){u&&(le(t),le(n),le(o)),K(e,u),c&&c.d(u),k[s].d(u)}}}function _n(l){let e,t,n,s;const i=[tn,ln],o=[];function a(r,f){return r[12]?1:0}return e=a(l),t=o[e]=i[e](l),{c(){t.c(),n=Le()},m(r,f){o[e].m(r,f),te(r,n,f),s=!0},p(r,[f]){let c=e;e=a(r),e===c?o[e].p(r,f):(_e(),E(o[c],1,1,()=>{o[c]=null}),ue(),t=o[e],t?t.p(r,f):(t=o[e]=i[e](r),t.c()),$(t,1),t.m(n.parentNode,n))},i(r){s||($(t),s=!0)},o(r){E(t),s=!1},d(r){r&&le(n),o[e].d(r)}}}function dn(l,e,t){let{gradio:n}=e,{elem_id:s=""}=e,{elem_classes:i=[]}=e,{visible:o=!0}=e,{value:a}=e,r,{show_legend:f}=e,{color_map:c={}}=e,{label:m=n.i18n("highlighted_text.highlighted_text")}=e,{container:k=!0}=e,{scale:b=null}=e,{min_width:u=void 0}=e,{_selectable:d=!1}=e,{combine_adjacent:w=!1}=e,{interactive:S}=e,{loading_status:y}=e;const h=({detail:g})=>n.dispatch("select",g);function p(g){a=g,t(0,a),t(14,w)}const j=()=>n.dispatch("change");return l.$$set=g=>{"gradio"in g&&t(2,n=g.gradio),"elem_id"in g&&t(3,s=g.elem_id),"elem_classes"in g&&t(4,i=g.elem_classes),"visible"in g&&t(5,o=g.visible),"value"in g&&t(0,a=g.value),"show_legend"in g&&t(6,f=g.show_legend),"color_map"in g&&t(1,c=g.color_map),"label"in g&&t(7,m=g.label),"container"in g&&t(8,k=g.container),"scale"in g&&t(9,b=g.scale),"min_width"in g&&t(10,u=g.min_width),"_selectable"in g&&t(11,d=g._selectable),"combine_adjacent"in g&&t(14,w=g.combine_adjacent),"interactive"in g&&t(12,S=g.interactive),"loading_status"in g&&t(13,y=g.loading_status)},l.$$.update=()=>{l.$$.dirty&2&&!c&&Object.keys(c).length&&t(1,c),l.$$.dirty&16385&&a&&w&&t(0,a=$l(a,"equal")),l.$$.dirty&32773&&a!==r&&(t(15,r=a),n.dispatch("change"))},[a,c,n,s,i,o,f,m,k,b,u,d,S,y,w,r,h,p,j]}class wn extends Jt{constructor(e){super(),xt(this,e,dn,_n,en,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,show_legend:6,color_map:1,label:7,container:8,scale:9,min_width:10,_selectable:11,combine_adjacent:14,interactive:12,loading_status:13})}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),q()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),q()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),q()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),q()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),q()}get show_legend(){return this.$$.ctx[6]}set show_legend(e){this.$$set({show_legend:e}),q()}get color_map(){return this.$$.ctx[1]}set color_map(e){this.$$set({color_map:e}),q()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),q()}get container(){return this.$$.ctx[8]}set container(e){this.$$set({container:e}),q()}get scale(){return this.$$.ctx[9]}set scale(e){this.$$set({scale:e}),q()}get min_width(){return this.$$.ctx[10]}set min_width(e){this.$$set({min_width:e}),q()}get _selectable(){return this.$$.ctx[11]}set _selectable(e){this.$$set({_selectable:e}),q()}get combine_adjacent(){return this.$$.ctx[14]}set combine_adjacent(e){this.$$set({combine_adjacent:e}),q()}get interactive(){return this.$$.ctx[12]}set interactive(e){this.$$set({interactive:e}),q()}get loading_status(){return this.$$.ctx[13]}set loading_status(e){this.$$set({loading_status:e}),q()}}export{Gt as BaseInteractiveHighlightedText,Ct as BaseStaticHighlightedText,wn as default};
//# sourceMappingURL=Index-5f5d692c.js.map
